<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 7.1.1">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"yoursite.com","root":"/","scheme":"Muse","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta name="description" content="数组123456789101112131415161718# 创建数组(注意不需要逗号，以空格分隔)array&#x3D;(1 2 3 4)#获取所有元素echo $&#123;array[@]&#125;#获取第一个元素echo $&#123;array[0]&#125;#获取数组元素个数echo $&#123;#array[@]&#125;#如果某个元素是字符串，还可以通过指定下标的方式获得该元素的长度">
<meta property="og:type" content="article">
<meta property="og:title" content="linux">
<meta property="og:url" content="http://yoursite.com/2024/02/29/linux/index.html">
<meta property="og:site_name" content="Vin&#39;s Blog">
<meta property="og:description" content="数组123456789101112131415161718# 创建数组(注意不需要逗号，以空格分隔)array&#x3D;(1 2 3 4)#获取所有元素echo $&#123;array[@]&#125;#获取第一个元素echo $&#123;array[0]&#125;#获取数组元素个数echo $&#123;#array[@]&#125;#如果某个元素是字符串，还可以通过指定下标的方式获得该元素的长度">
<meta property="og:locale" content="en_US">
<meta property="article:published_time" content="2024-02-29T09:57:34.000Z">
<meta property="article:modified_time" content="2025-05-22T05:50:40.080Z">
<meta property="article:author" content="John Doe">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="http://yoursite.com/2024/02/29/linux/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'en'
  };
</script>

  <title>linux | Vin's Blog</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

<!-- hexo injector head_end start -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css">

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/hexo-math@4.0.0/dist/style.css">
<!-- hexo injector head_end end --><link rel="alternate" href="/atom.xml" title="Vin's Blog" type="application/atom+xml">
</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">Vin's Blog</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2024/02/29/linux/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="John Doe">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Vin's Blog">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          linux
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2024-02-29 17:57:34" itemprop="dateCreated datePublished" datetime="2024-02-29T17:57:34+08:00">2024-02-29</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2025-05-22 13:50:40" itemprop="dateModified" datetime="2025-05-22T13:50:40+08:00">2025-05-22</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <h2 id="数组"><a href="#数组" class="headerlink" title="数组"></a>数组</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">创建数组(注意不需要逗号，以空格分隔)</span></span><br><span class="line">array=(1 2 3 4)</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">获取所有元素</span></span><br><span class="line">echo $&#123;array[@]&#125;</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">获取第一个元素</span></span><br><span class="line">echo $&#123;array[0]&#125;</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">获取数组元素个数</span></span><br><span class="line">echo $&#123;#array[@]&#125;</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">如果某个元素是字符串，还可以通过指定下标的方式获得该元素的长度，如下所示：</span></span><br><span class="line">echo $&#123;#array[2]&#125;</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">因为字符串获取长度如下</span></span><br><span class="line">str=&quot;hello world&quot;</span><br><span class="line">echo $&#123;#str&#125;</span><br></pre></td></tr></table></figure>
<span id="more"></span>
<h3 id="将command结果存入数组-不受空格影响"><a href="#将command结果存入数组-不受空格影响" class="headerlink" title="将command结果存入数组(不受空格影响)"></a>将command结果存入数组(不受空格影响)</h3><p><a href="https://stackoverflow.com/questions/11426529/reading-output-of-a-command-into-an-array-in-bash">https://stackoverflow.com/questions/11426529/reading-output-of-a-command-into-an-array-in-bash</a><br>The other answers will break if output of command contains spaces (which is rather frequent) or glob characters like *, ?, […].</p>
<p>To get the output of a command in an array, with one line per element, there are essentially 3 ways:</p>
<h3 id="1-With-Bash≥4-use-mapfile—it’s-the-most-efficient"><a href="#1-With-Bash≥4-use-mapfile—it’s-the-most-efficient" class="headerlink" title="1. With Bash≥4 use mapfile—it’s the most efficient"></a>1. With Bash≥4 use mapfile—it’s the most efficient</h3><p>mapfile使用方式：<a href="https://wangchujiang.com/linux-command/c/mapfile.html">https://wangchujiang.com/linux-command/c/mapfile.html</a><br>箭头紧贴括号是将内部命令转换为临时文件，参照<a href="https://tldp.org/LDP/abs/html/process-sub.html">https://tldp.org/LDP/abs/html/process-sub.html</a></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mapfile -t my_array &lt; &lt;( my_command )</span><br></pre></td></tr></table></figure>
<h3 id="2-Otherwise-a-loop-reading-the-output-slower-but-safe"><a href="#2-Otherwise-a-loop-reading-the-output-slower-but-safe" class="headerlink" title="2. Otherwise, a loop reading the output (slower, but safe)"></a>2. Otherwise, a loop reading the output (slower, but safe)</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">my_array=()</span><br><span class="line">while IFS= read -r line; do</span><br><span class="line">    my_array+=( &quot;$line&quot; )</span><br><span class="line">done &lt; &lt;( my_command )</span><br></pre></td></tr></table></figure>
<h3 id="3-As-suggested-by-Charles-Duffy-in-the-comments-thanks-the-following-might-perform-better-than-the-loop-method-in-number-2"><a href="#3-As-suggested-by-Charles-Duffy-in-the-comments-thanks-the-following-might-perform-better-than-the-loop-method-in-number-2" class="headerlink" title="3. As suggested by Charles Duffy in the comments (thanks!), the following might perform better than the loop method in number 2"></a>3. As suggested by Charles Duffy in the comments (thanks!), the following might perform better than the loop method in number 2</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">IFS=$&#x27;\n&#x27; read -r -d &#x27;&#x27; -a my_array &lt; &lt;( my_command &amp;&amp; printf &#x27;\0&#x27; )</span><br></pre></td></tr></table></figure>
<p>查看IFS值</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">echo &quot;$IFS&quot; | od -b</span><br><span class="line">0000000 040 011 012 012</span><br><span class="line">0000004</span><br></pre></td></tr></table></figure>
<h3 id="set命令"><a href="#set命令" class="headerlink" title="set命令"></a>set命令</h3><p><a href="http://www.ruanyifeng.com/blog/2017/11/bash-set.html">http://www.ruanyifeng.com/blog/2017/11/bash-set.html</a></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">set -eu</span><br><span class="line">set -o pipefail</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">folder=&quot;MSNClick&quot;</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">IFS=$<span class="string">&#x27;\n&#x27;</span> <span class="built_in">read</span> -r -d <span class="string">&#x27;&#x27;</span> -a array &lt; &lt;( <span class="built_in">du</span> -d 1 <span class="variable">$folder</span>/* | <span class="built_in">sort</span> -n -t 1 -r &amp;&amp; <span class="built_in">printf</span> <span class="string">&#x27;\0&#x27;</span> )</span></span><br><span class="line">mapfile -t array &lt; &lt;( du -d 1 $folder/* | sort -n -t 1 -r )</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"><span class="built_in">echo</span> -n <span class="string">&quot;<span class="variable">$IFS</span>&quot;</span> | <span class="built_in">od</span> -b</span></span><br><span class="line"></span><br><span class="line">function fun()&#123;</span><br><span class="line">    local IFS=$&#x27; &#x27;</span><br><span class="line"></span><br><span class="line">    #echo -n &quot;$IFS&quot; | od -b</span><br><span class="line"></span><br><span class="line">    for line in $&#123;array[@]&#125;;do</span><br><span class="line">        size=`echo $line |cut -f 1`</span><br><span class="line">        model_dir=`echo $line |cut -f 2`</span><br><span class="line">        debug_case_dir=&quot;$model_dir/debug_case&quot;</span><br><span class="line">        if [[ $size -gt 100000 ]];then</span><br><span class="line">            echo &quot;$model_dir, size=$(($size / 1024))M&quot;</span><br><span class="line">            if [ -d $debug_case_dir ]; then</span><br><span class="line">                echo &quot;rm $model_dir/*.bin&quot;</span><br><span class="line">                rm $model_dir/*.bin</span><br><span class="line">            else</span><br><span class="line">                echo &quot;rm $model_dir/*.tsv&quot;</span><br><span class="line">                rm $model_dir/*.tsv</span><br><span class="line">                echo &quot;rm $model_dir/*.bin&quot;</span><br><span class="line">                rm $model_dir/*.bin</span><br><span class="line">            fi</span><br><span class="line">        fi</span><br><span class="line">    done</span><br><span class="line"></span><br><span class="line">    return 0</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">fun</span><br></pre></td></tr></table></figure>
<h2 id="参数判空"><a href="#参数判空" class="headerlink" title="参数判空"></a>参数判空</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">if [ ! -n &quot;$end_dt&quot; ];then</span><br><span class="line">    echo &quot;end_dt is None&quot;</span><br><span class="line">    exit 1</span><br><span class="line">fi</span><br></pre></td></tr></table></figure>
<h2 id="参数数量校验"><a href="#参数数量校验" class="headerlink" title="参数数量校验"></a>参数数量校验</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">param_len=$#</span><br><span class="line">if [ $param_len != 3 ];then</span><br><span class="line">    echo &quot;train need 3 parameters, now $param_len&quot;</span><br><span class="line">    exit 1;</span><br><span class="line">fi</span><br></pre></td></tr></table></figure>
<h2 id="循环日期"><a href="#循环日期" class="headerlink" title="循环日期"></a>循环日期</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">t_end=`date -d &quot;$end_dt&quot; +%s`</span><br><span class="line">cur_dt=$start_dt</span><br><span class="line">while true</span><br><span class="line">do</span><br><span class="line">  t_cur=`date -d &quot;$cur_dt&quot; +%s`</span><br><span class="line"><span class="meta prompt_">  #</span><span class="language-bash">当开始时间小于结束时间时，直接结束脚本</span></span><br><span class="line">  if [ $t_cur -gt $t_end ]; then</span><br><span class="line">    break</span><br><span class="line">  fi</span><br><span class="line">  echo -e &quot;\n&quot;</span><br><span class="line">  echo &quot;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt; $cur_dt &lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&quot;</span><br><span class="line"></span><br><span class="line">  sh run.sh $cur_dt</span><br><span class="line">  check_result &quot;backtrace from rank $cur_dt&quot;</span><br><span class="line">  cur_dt=`date --date &quot;$cur_dt 1 day&quot; +%Y-%m-%d`</span><br><span class="line">done</span><br></pre></td></tr></table></figure>
<h2 id="分割文件"><a href="#分割文件" class="headerlink" title="分割文件"></a>分割文件</h2><h3 id="Split文件"><a href="#Split文件" class="headerlink" title="Split文件"></a>Split文件</h3><p><a href="https://www.cnblogs.com/OliverQin/p/10240222.html">https://www.cnblogs.com/OliverQin/p/10240222.html</a></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"># file contains 5000 lines</span><br><span class="line">split -l 1000 tmp.log -d -a 2 tmp_part_</span><br><span class="line"># will result like below</span><br><span class="line">tmp_part_00</span><br><span class="line">tmp_part_01</span><br><span class="line">...</span><br><span class="line">tmp_part_04</span><br></pre></td></tr></table></figure>
<h3 id="Merg文件"><a href="#Merg文件" class="headerlink" title="Merg文件"></a>Merg文件</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cat part_dir/tmp_part_* &gt;&gt; tmp.log</span><br></pre></td></tr></table></figure>
<h2 id="统计用户存储占用情况-sort"><a href="#统计用户存储占用情况-sort" class="headerlink" title="统计用户存储占用情况(sort)"></a>统计用户存储占用情况(sort)</h2><p>du -sh ./* | sort -rh<br>find ./data -size +200M | xargs ls -lSh</p>
<h2 id="字符处理"><a href="#字符处理" class="headerlink" title="字符处理"></a>字符处理</h2><h3 id="统计字符串单词个数"><a href="#统计字符串单词个数" class="headerlink" title="统计字符串单词个数"></a>统计字符串单词个数</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 方法1</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&#x27;one two three four five&#x27;</span> | <span class="built_in">wc</span> -w</span><br><span class="line"><span class="comment"># 方法2</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&#x27;one two three four five&#x27;</span> | awk <span class="string">&#x27;&#123;print NF&#125;&#x27;</span></span><br><span class="line"><span class="comment"># 方法3 </span></span><br><span class="line">s=<span class="string">&#x27;one two three four five&#x27;</span> </span><br><span class="line"><span class="built_in">set</span> <span class="variable">$&#123;s&#125;</span></span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$#</span></span><br><span class="line"><span class="comment"># 方法4 通过数组方式获取</span></span><br><span class="line">=<span class="string">&#x27;one two three four five&#x27;</span> </span><br><span class="line">a=(<span class="variable">$s</span>)</span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$&#123;#a[@]&#125;</span></span><br><span class="line"><span class="comment"># 方法5</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&#x27;one two three four five&#x27;</span> | <span class="built_in">tr</span> <span class="string">&#x27; &#x27;</span> <span class="string">&#x27;\n&#x27;</span> | <span class="built_in">wc</span> -l</span><br></pre></td></tr></table></figure>
<h3 id="提取数字"><a href="#提取数字" class="headerlink" title="提取数字"></a>提取数字</h3><p>如果某一行如下<br>file.txt</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">……</span><br><span class="line"> &#123;space&#125;&#123;space&#125;&#123;\t&#125;numRows&#123;space&#125;&#123;\t&#125;122321</span><br><span class="line">……</span><br></pre></td></tr></table></figure>
<p>上述文件里有某一行需要提取numRows，但此行有空格，制表符,如果想提取数字保存变量，可以使用tr命令</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">numRows=`cat file.txt | grep &quot;numRows&quot; | tr -cd [0-9]`</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"><span class="built_in">tr</span> 命令</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"><span class="built_in">tr</span> -<span class="built_in">cd</span> [<span class="string">&#x27;字符集合&#x27;</span>]</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">  -d：delete；-c：complement；-<span class="built_in">cd</span>：删除后边的参数以外的</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">  ps: complement意味着补集</span></span><br></pre></td></tr></table></figure>
<h3 id="打印信息"><a href="#打印信息" class="headerlink" title="打印信息"></a>打印信息</h3><p>echo -e 可以输出’\t</p>
<h4 id="打印一条线"><a href="#打印一条线" class="headerlink" title="打印一条线"></a>打印一条线</h4><p><a href="https://blog.csdn.net/u013670453/article/details/113462422">https://blog.csdn.net/u013670453/article/details/113462422</a></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">printf &#x27;#%.0s&#x27; &#123;1..100&#125;</span><br></pre></td></tr></table></figure>
<p>或者</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">printf &#x27;%100s\n&#x27; | tr &#x27; &#x27; =</span><br></pre></td></tr></table></figure>
<h3 id="选定某几行"><a href="#选定某几行" class="headerlink" title="选定某几行"></a>选定某几行</h3><p><a href="http://www.cnblogs.com/xianghang123/archive/2011/08/03/2125977.html">参考资料</a><br>【一】从第3000行开始，显示1000行。即显示3000~3999行<br><code>cat filename | tail -n +3000 | head -n 1000</code><br>【二】显示1000行到3000行<br><code>cat filename| head -n 3000 | tail -n +1000</code><br>*注意两种方法的顺序<br>分解：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">tail -n 1000：显示最后1000行</span><br><span class="line">tail -n +1000：从1000行开始显示，显示1000行以后的</span><br><span class="line">head -n 1000：显示前面1000行</span><br></pre></td></tr></table></figure>
<p>【三】用sed命令<br> <code>sed -n &#39;5,10p&#39; filename</code><br> 这样你就可以只查看文件的第5行到第10行。<br> 如果不加n, 会将5,10行打印一遍，同时打印全部文件；加n是取消default print的执行<br> -n, —quiet, —silent: suppress automatic printing of pattern space</p>
<h3 id="linux-sort-uniq-cut-wc命令详解"><a href="#linux-sort-uniq-cut-wc命令详解" class="headerlink" title="linux sort,uniq,cut,wc命令详解"></a>linux sort,uniq,cut,wc命令详解</h3><p><a href="https://www.cnblogs.com/ggjucheng/archive/2013/01/13/2858385.html">https://www.cnblogs.com/ggjucheng/archive/2013/01/13/2858385.html</a>)</p>
<h4 id="cut"><a href="#cut" class="headerlink" title="cut"></a>cut</h4><p><a href="https://www.cnblogs.com/f-ck-need-u/p/7521357.html">https://www.cnblogs.com/f-ck-need-u/p/7521357.html</a></p>
<h4 id="sort"><a href="#sort" class="headerlink" title="sort"></a>sort</h4><p><a href="https://www.cnblogs.com/ding2016/p/9668425.html">https://www.cnblogs.com/ding2016/p/9668425.html</a><br>sort可以对行进行排序，包括按数字，以及按照split后某一列排序等<br>常见一种情况，例如目录有如下文件：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">logs/</span><br><span class="line">├── 202005_0_detect.log</span><br><span class="line">├── 202005_10_detect.log</span><br><span class="line">├── 202005_11_detect.log</span><br><span class="line">├── 202005_1_detect.log</span><br><span class="line">├── 202005_2_detect.log</span><br><span class="line">├── 202005_3_detect.log</span><br><span class="line">├── 202005_4_detect.log</span><br><span class="line">├── 202005_5_detect.log</span><br><span class="line">├── 202005_6_detect.log</span><br><span class="line">├── 202005_7_detect.log</span><br><span class="line">├── 202005_8_detect.log</span><br><span class="line">└── 202005_9_detect.log</span><br></pre></td></tr></table></figure>
<p>想按照数字排序，如果直接使用ls会以字母序排序，得到的结果会如上所示，因为ls将数字按照字符串排序，先排第一位再排第二位，类似基数排序的思想。<br>如果想按照数字顺序就需要sort命令了，sort命令如下</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">sort --help</span><br><span class="line">-n # sort by num 按数字排序</span><br><span class="line">-k # split后选则第k列作为排序依据</span><br><span class="line">-t # terminate 指定分隔符</span><br><span class="line">……</span><br></pre></td></tr></table></figure>
<p>形成的命令如下:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">ls logs/*.log | sort -n -k 2 -t _</span><br><span class="line"></span><br><span class="line"># another example</span><br><span class="line"># 按照第四列，以数字方式排列，分割方式是Tab键， 取某一区间结果</span><br><span class="line">sort -k 4 -n -t$&#x27;\t&#x27; -r userIdMap.tsv | sed -n &#x27;30000, 30500p&#x27; &gt; userIdMapSort.tsv</span><br></pre></td></tr></table></figure>
<h5 id="处理tab键分隔符"><a href="#处理tab键分隔符" class="headerlink" title="处理tab键分隔符"></a>处理tab键分隔符</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sort -n -k 4 -r -t$&#x27;\t&#x27; userIdMap.tsv</span><br></pre></td></tr></table></figure>
<h5 id="sort-排列日期字符串"><a href="#sort-排列日期字符串" class="headerlink" title="sort 排列日期字符串"></a>sort 排列日期字符串</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">#例如文件内容 data.txt：</span><br><span class="line">2020-11-14_2020-12-01/train/2020-11-30_2020-12-01</span><br><span class="line">2020-12-01_2020-12-20/train/2020-12-01_2020-12-02</span><br><span class="line">2020-12-01_2020-12-20/train/2020-12-02_2020-12-03</span><br><span class="line">2020-12-01_2020-12-20/train/2020-12-03_2020-12-04</span><br><span class="line">2020-12-01_2020-12-20/train/2020-12-04_2020-12-05</span><br><span class="line">2020-12-01_2020-12-20/train/2020-12-05_2020-12-06</span><br><span class="line">2020-12-01_2020-12-20/train/2020-12-06_2020-12-07</span><br><span class="line"></span><br><span class="line">sort -n -k 2 -k 3 -k 4 -k 5 -k 7 -k 8 -t &#x27;-&#x27; data.txt </span><br></pre></td></tr></table></figure>
<h5 id="sort-MAC-OS换行符不起作用"><a href="#sort-MAC-OS换行符不起作用" class="headerlink" title="sort MAC OS换行符不起作用"></a>sort MAC OS换行符不起作用</h5><p>原因就是Max OS X上的sed是BSD的版本，Linux上的是Gnu的版本，导致的不一致<br>可以brew install gnu-sed和替换调用sed与gsed。<br>如果不想在“ g”之前加上sed，可以brew install gnu-sed —with-default-names</p>
<h5 id="sort-处理负数"><a href="#sort-处理负数" class="headerlink" title="sort 处理负数"></a>sort 处理负数</h5><p>sort -g 注意使用了-g就要去掉-n两者是冲突的</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sort -g ……</span><br><span class="line"># or --general-numeric-sort</span><br><span class="line"># or --sort=general-numeric</span><br></pre></td></tr></table></figure>
<h3 id="xarg"><a href="#xarg" class="headerlink" title="xarg"></a>xarg</h3><p><a href="http://www.ruanyifeng.com/blog/2019/08/xargs-tutorial.html">http://www.ruanyifeng.com/blog/2019/08/xargs-tutorial.html</a></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">ps -ef | grep /bin/bash | grep -v grep | awk &#x27;&#123;print $2&#125;&#x27; | xargs -n 1 kill -9</span><br><span class="line"># -n参数指定每次将多少项，作为命令行参数。</span><br><span class="line">$ echo &#123;0..9&#125; | xargs -n 2 echo</span><br><span class="line">0 1</span><br><span class="line">2 3</span><br><span class="line">4 5</span><br><span class="line">6 7</span><br><span class="line">8 9</span><br></pre></td></tr></table></figure>
<h4 id="从一系列日志文件中提取相同一行内容"><a href="#从一系列日志文件中提取相同一行内容" class="headerlink" title="从一系列日志文件中提取相同一行内容"></a>从一系列日志文件中提取相同一行内容</h4><p>例如，从多个spark日志中提取tracking URL</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ls -t logs/extract_*.log | head -10 | xargs -L 1 grep &quot;tracking URL&quot; -m 1</span><br></pre></td></tr></table></figure>
<p>几个知识点：</p>
<ul>
<li>xargs 的形式是：</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">xargs [-options] [command]</span><br></pre></td></tr></table></figure>
<ul>
<li>xargs -L n : 如果输入是多行，需要以<strong>几行</strong>作为参数：</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; cat tmp.txt</span><br><span class="line">img-1.jpeg</span><br><span class="line">img-1-backup.jpeg</span><br><span class="line">img-2.jpeg</span><br><span class="line">img-2-backup.jpeg</span><br><span class="line"></span><br><span class="line">cat tmp.txt | xargs -L 2 cp</span><br><span class="line"># 上面命令实现：cp img-d img-d-backup的功能</span><br></pre></td></tr></table></figure>
<p>意味着xargs后面需要接command，如果直接接管道会出错</p>
<ul>
<li>grep 取第一个匹配结果: grrep ‘xxx’ -m 1</li>
</ul>
<h3 id="查找文件名"><a href="#查找文件名" class="headerlink" title="查找文件名"></a>查找文件名</h3><h4 id="Find"><a href="#Find" class="headerlink" title="Find"></a>Find</h4><p>find &lt;指定目录&gt; &lt;指定条件&gt; &lt;指定动作&gt;</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">find . -name &#x27;my*&#x27;</span><br><span class="line">find . -name &#x27;my*&#x27; -ls</span><br><span class="line">find . -type f -mmin -10 #搜索当前目录中，所有过去10分钟中更新过的普通文件。如果不加-type f参数，则搜索普通文件+特殊文件+目录</span><br><span class="line">find ./ -name &#x27;*.csv&#x27; -maxdepth 1 #至查找当前目录，不递归</span><br></pre></td></tr></table></figure>
<h4 id="locate"><a href="#locate" class="headerlink" title="locate"></a>locate</h4><h3 id="检索关键字"><a href="#检索关键字" class="headerlink" title="检索关键字"></a>检索关键字</h3><p>指定文件类型</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">grep -rn --include=&#x27;*.后缀名&#x27; &quot;检索词&quot;</span><br><span class="line">例如：</span><br><span class="line">grep -rn --include=&#x27;*.sh&#x27; &quot;kill command&quot;</span><br></pre></td></tr></table></figure>
<h3 id="比较两个文件夹内容"><a href="#比较两个文件夹内容" class="headerlink" title="比较两个文件夹内容"></a>比较两个文件夹内容</h3><p><a href="https://www.tecmint.com/compare-find-difference-between-two-directories-in-linux/">https://www.tecmint.com/compare-find-difference-between-two-directories-in-linux/</a></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">$ diff [OPTION]… FILES</span><br><span class="line">$ diff options dir1 dir2 </span><br><span class="line"></span><br><span class="line"># 非递归，只对比当前文件内容</span><br><span class="line">$ diff -q directory-1/ directory-2/</span><br><span class="line"></span><br><span class="line"># 递归对比</span><br><span class="line">$ diff -qr directory-1/ directory-2/ </span><br><span class="line"></span><br><span class="line"># 比较两文件指定段落内容</span><br><span class="line">vimdiff &lt;(sed -n &#x27;7088,7122p&#x27; /user/vinyuan/a.txt) &lt;(sed -n &#x27;9022,9043p&#x27; /user/vinyuan/b.txt)</span><br></pre></td></tr></table></figure>
<h3 id="文件名称替换"><a href="#文件名称替换" class="headerlink" title="文件名称替换"></a>文件名称替换</h3><p><a href="https://www.cnblogs.com/xiaomai333/p/9760304.html">https://www.cnblogs.com/xiaomai333/p/9760304.html</a></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt; var=person.jpg</span><br><span class="line"><span class="comment">#想替换成person_large.jpg</span></span><br><span class="line">&gt;&gt; var=<span class="variable">$&#123;var%.*&#125;</span>_large.<span class="variable">$&#123;var##*.&#125;</span></span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$var</span></span><br><span class="line">&gt;&gt; person_large.jpg</span><br><span class="line"><span class="comment"># $&#123;var##*.&#125;</span></span><br><span class="line"><span class="comment"># $&#123;var#*.&#125;</span></span><br><span class="line"><span class="comment"># $&#123;var%.*&#125;</span></span><br><span class="line"><span class="comment"># $&#123;var%%.*&#125;</span></span><br></pre></td></tr></table></figure>
<p>其实<code>$&#123;&#125;</code>并不是专门为提取文件名或目录名的，它的使用是变量的提取和替换等等操作，它可以提取非常多的内容，并不一定是上面五个例子中的’/‘或’.’。也就是说，上面的使用方法只是它使用的一个特例。<br><strong>记忆方式：</strong><br>查看键盘布局，<code>#</code>在<script type="math/tex">`的左边，`%`在`</script>的右边</p>
<h3 id="字符串删除指定部分"><a href="#字符串删除指定部分" class="headerlink" title="字符串删除指定部分"></a>字符串删除指定部分</h3><p>[Substring Removal][1]<br>两种方式都是删除<strong>匹配到的字符串</strong>，对于符号右边的通配符匹配，只要匹配到，<strong>则删除匹配到的部分，留下其他部分</strong></p>
<h4 id="1-”-“号的使用"><a href="#1-”-“号的使用" class="headerlink" title="1.”#“号的使用"></a>1.”#“号的使用</h4><p><code>$&#123;string#substring&#125;</code><br>Deletes shortest match of <code>$substring</code> from front of <code>$string</code>.<br><code>$&#123;string##substring&#125;</code><br>Deletes longest match of <code>$substring</code> from front of <code>$string</code></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">stringZ=abcABC123ABCabc</span><br><span class="line">#       |----|          shortest</span><br><span class="line">#       |----------|    longest</span><br><span class="line">echo $&#123;stringZ#a*C&#125;      # 123ABCabc</span><br><span class="line"># Strip out shortest match between &#x27;a&#x27; and &#x27;C&#x27;.</span><br><span class="line"></span><br><span class="line">echo $&#123;stringZ##a*C&#125;     # abc</span><br><span class="line"># Strip out longest match between &#x27;a&#x27; and &#x27;C&#x27;.</span><br><span class="line"></span><br><span class="line"># You can parameterize the substrings.</span><br><span class="line">X=&#x27;a*C&#x27;</span><br><span class="line">echo $&#123;stringZ#$X&#125;      # 123ABCabc</span><br><span class="line">echo $&#123;stringZ##$X&#125;     # abc</span><br><span class="line">                        # As above</span><br></pre></td></tr></table></figure>
<h3 id="数值计算与判断"><a href="#数值计算与判断" class="headerlink" title="数值计算与判断"></a>数值计算与判断</h3><p>循环是根据奇偶性做出不同处理，switch flag</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"># HOW TO FIND A NUMBER IS EVEN OR ODD IN SHELL SCRIPT</span><br><span class="line"># WRITTEN BY SURAJ MAITY</span><br><span class="line"># TUTORIALSINHAND.COM</span><br><span class="line">clear </span><br><span class="line">echo &quot;---- EVEN OR ODD IN SHELL SCRIPT -----&quot;</span><br><span class="line">echo -n &quot;Enter a number:&quot;</span><br><span class="line">read n</span><br><span class="line">echo -n &quot;RESULT: &quot;</span><br><span class="line">if [ `expr $n % 2` == 0 ]</span><br><span class="line">then</span><br><span class="line"> echo &quot;$n is even&quot;</span><br><span class="line">else</span><br><span class="line"> echo &quot;$n is Odd&quot;</span><br><span class="line">fi</span><br></pre></td></tr></table></figure>
<h4 id="2-”-”号的使用"><a href="#2-”-”号的使用" class="headerlink" title="2.”%”号的使用"></a>2.”%”号的使用</h4><p><code>$&#123;string%substring&#125;</code><br>Deletes shortest match of <code>$substring</code> from back of <code>$string</code>.<br><code>string%%substring&#125;</code><br>Deletes longest match of <code>$substring</code> from back of <code>$string</code>.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">stringZ=abcABC123ABCabc</span><br><span class="line">#                    ||     shortest</span><br><span class="line">#        |------------|     longest</span><br><span class="line"></span><br><span class="line">echo $&#123;stringZ%b*c&#125;      # abcABC123ABCa</span><br><span class="line"># Strip out shortest match between &#x27;b&#x27; and &#x27;c&#x27;, from back of $stringZ.</span><br><span class="line"></span><br><span class="line">echo $&#123;stringZ%%b*c&#125;     # a</span><br><span class="line"># Strip out longest match between &#x27;b&#x27; and &#x27;c&#x27;, from back of $stringZ.</span><br></pre></td></tr></table></figure>
<h4 id="3-删除中间匹配的字符串"><a href="#3-删除中间匹配的字符串" class="headerlink" title="3.删除中间匹配的字符串"></a>3.删除中间匹配的字符串</h4><p>这种需求可以使用替换来完成<br>替换</p>
<div class="table-container">
<table>
<thead>
<tr>
<th>pattern</th>
<th>explain</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>$&#123;string/substring/replacement&#125;</code></td>
<td>使用<code>$replacement</code>, 来代替第一个匹配的<code>$substring</code></td>
</tr>
<tr>
<td><code>$&#123;string//substring/replacement&#125;</code></td>
<td>使用<code>$replacement</code>, 代替所有匹配的<code>$substring</code></td>
</tr>
<tr>
<td><code>$&#123;string/#substring/replacement&#125;</code></td>
<td>如果<code>$string</code>的前缀匹配<code>$substring</code>, 那么就用<code>$replacement</code>来代替匹配到的<code>$substring</code></td>
</tr>
<tr>
<td><code>$&#123;string/%substring/replacement&#125;</code></td>
<td>如果<code>$string</code>的后缀匹配<code>$substring</code>, 那么就用<code>$replacement</code>来代替匹配到的<code>$substring</code></td>
</tr>
</tbody>
</table>
</div>
<h3 id="sed"><a href="#sed" class="headerlink" title="sed"></a>sed</h3><p><a href="https://www.cnblogs.com/zhangzongjian/p/10708222.html">https://www.cnblogs.com/zhangzongjian/p/10708222.html</a></p>
<h4 id="先检索指定位置，然后替换（非全局替换）"><a href="#先检索指定位置，然后替换（非全局替换）" class="headerlink" title="先检索指定位置，然后替换（非全局替换）"></a>先检索指定位置，然后替换（非全局替换）</h4><p><a href="https://www.golinuxhub.com/2017/09/sed-perform-search-and-replace-only-on/">https://www.golinuxhub.com/2017/09/sed-perform-search-and-replace-only-on/</a></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt; cat /tmp/file</span><br><span class="line">four five six</span><br><span class="line">one</span><br><span class="line">seve eight nine</span><br><span class="line">one two three</span><br><span class="line">one</span><br><span class="line">ten eleven twelve</span><br><span class="line">one</span><br><span class="line"></span><br><span class="line">&gt;&gt; sed -e &#x27;/two/s/one/replaced/g&#x27; /tmp/file</span><br><span class="line">four five six</span><br><span class="line">one</span><br><span class="line">seve eight nine</span><br><span class="line">replaced two three</span><br><span class="line">one</span><br><span class="line">ten eleven twelve</span><br><span class="line">one</span><br></pre></td></tr></table></figure>
<p>sed -e ’command-1’ -e ‘command-2’ -e ‘command-3’ file.txt<br>sed -e 用来执行一系列操作，例如多个替换：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sed -e &#x27;/seve/s/nine/replaced/g&#x27; -e &#x27;/two/s/one/replaced/g&#x27; /tmp/file</span><br></pre></td></tr></table></figure>
<p>sed -i -e xxxx 在执行多个的同时<strong>本地替换</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sed -i -e &quot;/validation_data_path/s#recpro#yuanwenwu3#g&quot; -e &quot;/output_path/s#recpro#yuanwenwu3#g&quot; -e &quot;/summary_path/s#recpro#yuanwenwu3#g&quot; $&#123;conf_path&#125;</span><br><span class="line">sed -i -e &quot;/conf_file/s#conf_file=.*#conf_file=&#x27;$&#123;conf&#125;&#x27;#g&quot; -e &quot;s#&#x27;node&#x27;:.*,#&#x27;node&#x27;:&#x27;$&#123;node&#125;&#x27;,#g&quot; tfconf.py</span><br></pre></td></tr></table></figure>
<h4 id="匹配并选择部分替换"><a href="#匹配并选择部分替换" class="headerlink" title="匹配并选择部分替换"></a>匹配并选择部分替换</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sed -i &quot;s#\(statPath=\).*#\1$&#123;statPath&#125;#g&quot; $&#123;conf_dir&#125;/stat.conf</span><br><span class="line">sed -i &quot;s#\(output=\).*#\1$&#123;output&#125;#g;s#\(statPath=\).*#\1$&#123;statPath&#125;#g&quot; $&#123;conf_dir&#125;/train.conf</span><br><span class="line">#sed -i &quot;s#\(output=\).*#\1$&#123;output&#125;#g;s#\(statPath=\).*#\1$&#123;statPath&#125;#g;&quot; $&#123;conf_dir&#125;/train_id2i</span><br></pre></td></tr></table></figure>
<h4 id="带变量的替换"><a href="#带变量的替换" class="headerlink" title="带变量的替换"></a>带变量的替换</h4><p>如果有<strong>shell变量</strong>，则需要使用<strong>双引号</strong>即可,如果使用单引号则不会替换shell变量，而将<code>$&#123;var&#125;</code>视为一个字符串</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">var=&quot;hello&quot;</span><br><span class="line">sed -n &quot;s/$[var&#125;/word/g&quot; xxx.dat</span><br><span class="line">#sed -n &#x27;s/$&#123;var&#125;/wor/g&#x27; xxx.dat 不会得到预期结果</span><br></pre></td></tr></table></figure>
<h4 id="一般用法"><a href="#一般用法" class="headerlink" title="一般用法"></a>一般用法</h4><p>参考: <a href="http://bbs.linuxtone.org/thread-1731-1-1.html">http://bbs.linuxtone.org/thread-1731-1-1.html</a></p>
<ol>
<li>当前行进行替换:<code>s/XXX/YYY/g</code><br>XXX是需要替换的字符串,YYY是替换后的字符串。</li>
<li>全局替换:<code>% s/XXX/YYY/g</code>.</li>
<li>对指定部分进行替换用V进入visual模式,再进行:<code>s/XXX/YYY/g</code>. <font color="green">ps(命令模式，显示的<code>:&#39;&lt;,&#39;&gt;</code>的是区域选择的意思，不要删除，紧接着在后面用<code>s/xxx/yyy/g</code>即可)</font></li>
</ol>
<p>比如，要将目录/modules下面所有文件中的zhangsan都修改成lisi，这样做：<br>sed -i “s/zhangsan/lisi/g” <code>grep zhangsan -rl /modules</code></p>
<p>解释一下：</p>
<p>-i 表示inplace edit，就地修改文件<br>-r 表示搜索子目录<br>-l 表示输出匹配的文件名</p>
<p>这个命令组合很强大，要注意备份文件。</p>
<ol>
<li>字典映射</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sed &#x27;y/1234567890/ABCDEFGHIJ/&#x27; test_sed</span><br><span class="line">sed &#x27;y/1234567890/ABCDEFGHIJ/&#x27; filename</span><br></pre></td></tr></table></figure>
<p>ABCDEFGHIJ<br>BCDEFGHIJA<br>CDEFGHIJAB<br>DEFGHIJABC<br>注意变换关系是按两个list的位置对应变换<br>其中：test_sed的内容是：<br>1234567890<br>2345678901<br>3456789012<br>4567890123</p>
<ol>
<li>替换每行所有匹配<br><code>sed &#39;s/01/Ab/g&#39; test_sed</code><br>1234567890<br>23456789Ab<br>3456789Ab2<br>456789Ab23<br>注意：第一行的0，1没有分别替换为A,b</li>
</ol>
<h4 id="删除：d命令"><a href="#删除：d命令" class="headerlink" title="删除：d命令"></a>删除：d命令</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">sed &#x27;2d&#x27; example          #删除example文件的第二行。</span><br><span class="line">sed &#x27;2,$d&#x27; example        #删除example文件的第二行到末尾所有行。</span><br><span class="line">sed &#x27;$d&#x27; example          #删除example文件的最后一行。</span><br><span class="line">sed &#x27;/test/&#x27;d example     #匹配&#x27;test&#x27;并删除 </span><br></pre></td></tr></table></figure>
<p>example——-删除example文件所有包含test的行。</p>
<p>替换：s命令<br><code>$ sed &#39;s/test/mytest/g&#39; example</code>——-在整行范围内把test替换为mytest。如果没有g标记，则只有每行第一个匹配的test被替换成mytest。<br><code>$ sed -n &#39;s/^test/mytest/p&#39; example</code>——-(-n)选项和p标志一起使用表示只打印那些发生替换的行。也就是说，如果某一行开头的test被替换成mytest，就打印它。<br><code>$ sed &#39;s/^192.168.0.1/&amp;localhost/&#39;example</code>——-&amp;符号表示替换换字符串中被找到的部份。所有以192.168.0.1开头的行都会被替换成它自已加localhost，变成192.168.0.1localhost。<br><code>$ sed -n &#39;s/\(love\)able/\1rs/p&#39; example</code>——-love被标记为1，所有loveable会被替换成lovers，而且替换的行会被打印出来。<br><code>$ sed &#39;s#10#100#g&#39; example</code>——-不论什么字符，紧跟着s命令的都被认为是新的分隔符，所以，“#”在这里是分隔符，代替了默认的“/”分隔符。表示把所有10替换成100。</p>
<p>选定行的范围：逗号<br><code>$ sed -n &#39;/test/,/check/p&#39; example</code>——-所有在模板test和check所确定的范围内的行都被打印。<br><code>$ sed -n &#39;5,/^test/p&#39; example</code>——-打印从第五行开始到第一个包含以test开始的行之间的所有行。<br><code>$ sed &#39;/test/,/check/s/$/sed test/&#39; example</code>——-对于模板test和west之间的行，每行的末尾用字符串sed test替换。</p>
<p>多点编辑：e命令<br><code>$ sed -e &#39;1,5d&#39; -e &#39;s/test/check/&#39;example</code>——-(-e)选项允许在同一行里执行多条命令。如例子所示，第一条命令删除1至5行，第二条命令用check替换test。命令的执行顺序对结果有影响。如果两个命令都是替换命令，那么第一个替换命令将影响第二个替换命令的结果。<br><code>$ sed --expression=&#39;s/test/check/&#39; --expression=&#39;/love/d&#39; example</code>——-一个比-e更好的命令是—expression。它能给sed表达式赋值。</p>
<p>从文件读入：r命令<br><code>$ sed &#39;/test/r file&#39; example</code>——-file里的内容被读进来，显示在与test匹配的行后面，如果匹配多行，则file的内容将显示在所有匹配行的下面。</p>
<p>写入文件：w命令<br><code>$ sed -n &#39;/test/w file&#39; example</code>——-在example中所有包含test的行都被写入file里。</p>
<p>追加命令：a命令<br><code>$ sed &#39;/^test/a\\---&gt;this is a example&#39; example</code>&lt;——-‘this is a example’被追加到以test开头的行后面，sed要求命令a后面有一个反斜杠。</p>
<p>插入：i命令<br><code>$ sed &#39;/test/i\\ new line -------------------------&#39; example</code><br>如果test被匹配，则把反斜杠后面的文本插入到匹配行的前面。<br>下一个：n命令<br><code>$ sed &#39;/test/&#123; n; s/aa/bb/; &#125;&#39; example</code>——-如果test被匹配，则移动到匹配行的下一行，替换这一行的aa，变为bb，并打印该行，然后继续。</p>
<p>变形：y命令<br><code>$ sed &#39;1,10y/abcde/ABCDE/&#39; example</code>——-把1—10行内所有abcde转变为大写，注意，正则表达式元字符不能使用这个命令。</p>
<p>退出：q命令<br><code>$ sed &#39;10q&#39; example</code>——-打印完第10行后，退出sed。</p>
<p>保持和获取：h命令和G命令<br><code>$ sed -e &#39;/test/h&#39; -e</code><br>example——-在sed处理文件的时候，每一行都被保存在一个叫模式空间的临时缓冲区中，除非行被删除或者输出被取消，否则所有被处理的行都将打印在屏幕上。接着模式空间被清空，并存入新的一行等待处理。在这个例子里，匹配test的行被找到后，将存入模式空间，h命令将其复制并存入一个称为保持缓存区的特殊缓冲区内。第二条语句的意思是，当到达最后一行后，G命令取出保持缓冲区的行，然后把它放回模式空间中，且追加到现在已经存在于模式空间中的行的末尾。在这个例子中就是追加到最后一行。简单来说，任何包含test的行都被复制并追加到该文件的末尾。</p>
<p>保持和互换：h命令和x命令<br><code>$ sed -e &#39;/test/h&#39; -e &#39;/check/x&#39; example</code> ——-互换模式空间和保持缓冲区的内容。也就是把包含test与check的行互换。</p>
<p>7.脚本</p>
<p>Sed脚本是一个sed的命令清单，启动Sed时以-f选项引导脚本文件名。Sed对于脚本中输入的命令非常挑剔，在命令的末尾不能有任何空白或文本，如果在一行中有多个命令，要用分号分隔。以#开头的行为注释行，且不能跨行。</p>
<p>8.小技巧<br>在sed的命令行中引用shell变量时要使用双引号，而不是通常所用的单引号。下面是一个根据name变量的内容来删除named.conf文件中zone段的脚本：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">name=&#x27;zone\ &quot;localhost&quot;&#x27;</span><br><span class="line">sed &quot;/$name/,/&#125;;/d&quot; named.conf</span><br><span class="line">sed -i &quot;s/oldstring/newstring/g&quot; `grep oldstring -rl yourdir`</span><br></pre></td></tr></table></figure>
<p>例如：替换/home下所有文件中的www.itbbs.cn为chinafar.com</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sed -i &quot;s/www.itbbs.cn/chinafar.com/g&quot; `grep www.itbbs.cn -rl /home` </span><br></pre></td></tr></table></figure>
<h2 id="vim-amp-vi"><a href="#vim-amp-vi" class="headerlink" title="vim &amp; vi"></a>vim &amp; vi</h2><h3 id="自己使用的简单配置template"><a href="#自己使用的简单配置template" class="headerlink" title="自己使用的简单配置template"></a>自己使用的简单配置template</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"># ~/.vimrc</span><br><span class="line">hi CursorLine   cterm=NONE ctermbg=lightgray ctermfg=white guibg=lightgray guifg=white</span><br><span class="line">hi CursorLine term=bold cterm=bold ctermbg=237</span><br><span class="line">hi CursorColumn   cterm=NONE ctermbg=lightgray ctermfg=white guibg=lightgray guifg=white</span><br><span class="line">hi CursorColumn term=bold cterm=bold ctermbg=237</span><br><span class="line"></span><br><span class="line">set ts=4</span><br><span class="line">set expandtab</span><br><span class="line"></span><br><span class="line">set smartindent</span><br><span class="line">set tabstop=4</span><br><span class="line">set shiftwidth=4</span><br><span class="line">set expandtab</span><br><span class="line">set softtabstop=4</span><br><span class="line"></span><br><span class="line"># https://www.dyxmq.cn/linux/vim-setting-mouse-place.html</span><br><span class="line"># 设置vim打开上次编辑地方</span><br><span class="line">au BufReadPost * if line(&quot;&#x27;\&quot;&quot;) &gt; 0 | if line(&quot;&#x27;\&quot;&quot;) &lt;= line(&quot;$&quot;) | exe(&quot;norm &#x27;\&quot;&quot;) | else |exe &quot;norm $&quot;| endif | endif</span><br></pre></td></tr></table></figure>
<h3 id="多功能templete"><a href="#多功能templete" class="headerlink" title="多功能templete"></a>多功能templete</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br></pre></td><td class="code"><pre><span class="line">&quot;=========================================================================</span><br><span class="line">&quot; DesCRiption: 适合自己使用的vimrc文件，for Linux/Windows, GUI/Console</span><br><span class="line">&quot;</span><br><span class="line">&quot; Last Change: 2010年08月02日 15时13分</span><br><span class="line">&quot;</span><br><span class="line">&quot; Version:     1.80</span><br><span class="line">&quot;</span><br><span class="line">&quot;=========================================================================</span><br><span class="line"></span><br><span class="line">set nocompatible            &quot; 关闭 vi 兼容模式</span><br><span class="line">syntax on                   &quot; 自动语法高亮</span><br><span class="line">&quot;colorscheme molokai         &quot; 设定配色方案</span><br><span class="line">set number                  &quot; 显示行号</span><br><span class="line">set noswapfile                          &quot; 不产生.swap, .swo文件</span><br><span class="line">&quot;set cursorline              &quot; 突出显示当前行</span><br><span class="line">set ruler                   &quot; 打开状态栏标尺</span><br><span class="line">set shiftwidth=4            &quot; 设定 &lt;&lt; 和 &gt;&gt; 命令移动时的宽度为 4</span><br><span class="line">set softtabstop=4           &quot; 使得按退格键时可以一次删掉 4 个空格</span><br><span class="line">set tabstop=4               &quot; 设定 tab 长度为 4</span><br><span class="line">set nobackup                &quot; 覆盖文件时不备份</span><br><span class="line">&quot;set autochdir               &quot; 自动切换当前目录为当前文件所在的目录</span><br><span class="line">filetype plugin indent on   &quot; 开启插件</span><br><span class="line">set backupcopy=yes          &quot; 设置备份时的行为为覆盖</span><br><span class="line">set ignorecase smartcase    &quot; 搜索时忽略大小写，但在有一个或以上大写字母时仍保持对大小写敏感</span><br><span class="line">&quot;set nowrapscan              &quot; 禁止在搜索到文件两端时重新搜索</span><br><span class="line">set incsearch               &quot; 输入搜索内容时就显示搜索结果</span><br><span class="line">set hlsearch                &quot; 搜索时高亮显示被找到的文本</span><br><span class="line">set noerrorbells            &quot; 关闭错误信息响铃</span><br><span class="line">set novisualbell            &quot; 关闭使用可视响铃代替呼叫</span><br><span class="line">set t_vb=                   &quot; 置空错误铃声的终端代码</span><br><span class="line">&quot; set showmatch               &quot; 插入括号时，短暂地跳转到匹配的对应括号</span><br><span class="line">&quot; set matchtime=2             &quot; 短暂跳转到匹配括号的时间</span><br><span class="line">set magic                   &quot; 设置魔术</span><br><span class="line">set hidden                  &quot; 允许在有未保存的修改时切换缓冲区，此时的修改由 vim 负责保存</span><br><span class="line">set guioptions-=T           &quot; 隐藏工具栏</span><br><span class="line">set guioptions-=m           &quot; 隐藏菜单栏</span><br><span class="line">set smartindent             &quot; 开启新行时使用智能自动缩进</span><br><span class="line">set backspace=indent,eol,start</span><br><span class="line">                            &quot; 不设定在插入状态无法用退格键和 Delete 键删除回车符</span><br><span class="line">set cmdheight=1             &quot; 设定命令行的行数为 1</span><br><span class="line">set laststatus=2            &quot; 显示状态栏 (默认值为 1, 无法显示状态栏)</span><br><span class="line">set statusline=\ %&lt;%F[%1*%M%*%n%R%H]%=\ %y\ %0(%&#123;&amp;fileformat&#125;\ %&#123;&amp;encoding&#125;\ %c:%l/%L%)\</span><br><span class="line">                            &quot; 设置在状态行显示的信息</span><br><span class="line">&quot;set foldenable              &quot; 开始折叠</span><br><span class="line">&quot;set foldmethod=syntax       &quot; 设置语法折叠</span><br><span class="line">&quot;set foldcolumn=0            &quot; 设置折叠区域的宽度</span><br><span class="line">&quot;setlocal foldlevel=0        &quot; 设置折叠层数为</span><br><span class="line">&quot;set foldclose=all           &quot; 设置为自动关闭折叠</span><br><span class="line">&quot; nnoremap &lt;space&gt; @=((foldclosed(line(&#x27;.&#x27;)) &lt; 0) ? &#x27;zc&#x27; : &#x27;zo&#x27;)&lt;CR&gt;</span><br><span class="line">                            &quot; 用空格键来开关折叠</span><br><span class="line">au BufReadPost * if line(&quot;&#x27;\&quot;&quot;) &gt; 0 | if line(&quot;&#x27;\&quot;&quot;) &lt;= line(&quot;$&quot;) | exe(&quot;norm &#x27;\&quot;&quot;) | else |exe &quot;norm $&quot;| endif | endif</span><br><span class="line">hi CursorLine   cterm=NONE ctermbg=lightgray ctermfg=white guibg=lightgray guifg=white</span><br><span class="line">hi CursorLine term=bold cterm=bold ctermbg=237</span><br><span class="line">hi CursorColumn   cterm=NONE ctermbg=lightgray ctermfg=white guibg=lightgray guifg=white</span><br><span class="line">hi CursorColumn term=bold cterm=bold ctermbg=237</span><br><span class="line"></span><br><span class="line">&quot; return OS type, eg: windows, or linux, mac, et.st..</span><br><span class="line">function! MySys()</span><br><span class="line">    if has(&quot;win16&quot;) || has(&quot;win32&quot;) || has(&quot;win64&quot;) || has(&quot;win95&quot;)</span><br><span class="line">        return &quot;windows&quot;</span><br><span class="line">    elseif has(&quot;unix&quot;)</span><br><span class="line">        return &quot;linux&quot;</span><br><span class="line">    endif</span><br><span class="line">endfunction</span><br><span class="line"></span><br><span class="line">&quot; 用户目录变量$VIMFILES</span><br><span class="line">if MySys() == &quot;windows&quot;</span><br><span class="line">    let $VIMFILES = $VIM.&#x27;/vimfiles&#x27;</span><br><span class="line">elseif MySys() == &quot;linux&quot;</span><br><span class="line">    let $VIMFILES = $HOME.&#x27;/.vim&#x27;</span><br><span class="line">endif</span><br><span class="line"></span><br><span class="line">&quot; 设定doc文档目录</span><br><span class="line">let helptags=$VIMFILES.&#x27;/doc&#x27;</span><br><span class="line"></span><br><span class="line">&quot; 设置字体 以及中文支持</span><br><span class="line">if has(&quot;win32&quot;)</span><br><span class="line">    set guifont=Inconsolata:h12:cANSI</span><br><span class="line">endif</span><br><span class="line"></span><br><span class="line">&quot; 配置多语言环境</span><br><span class="line">if has(&quot;multi_byte&quot;)</span><br><span class="line">    &quot; UTF-8 编码</span><br><span class="line">    set encoding=utf-8</span><br><span class="line">    set termencoding=utf-8</span><br><span class="line">    set formatoptions+=mM</span><br><span class="line">    set fencs=utf-8,gbk</span><br><span class="line"></span><br><span class="line">    if v:lang =~? &#x27;^\(zh\)\|\(ja\)\|\(ko\)&#x27;</span><br><span class="line">        set ambiwidth=double</span><br><span class="line">    endif</span><br><span class="line"></span><br><span class="line">    if has(&quot;win32&quot;)</span><br><span class="line">        source $VIMRUNTIME/delmenu.vim</span><br><span class="line">        source $VIMRUNTIME/menu.vim</span><br><span class="line">        language messages zh_CN.utf-8</span><br><span class="line">    endif</span><br><span class="line">else</span><br><span class="line">    echoerr &quot;Sorry, this version of (g)vim was not compiled with +multi_byte&quot;</span><br><span class="line">endif</span><br><span class="line"></span><br><span class="line">&quot; Buffers操作快捷方式!</span><br><span class="line">nnoremap &lt;C-RETURN&gt; :bnext&lt;CR&gt;</span><br><span class="line">nnoremap &lt;C-S-RETURN&gt; :bprevious&lt;CR&gt;</span><br><span class="line"></span><br><span class="line">&quot; Tab操作快捷方式!</span><br><span class="line">nnoremap &lt;C-TAB&gt; :tabnext&lt;CR&gt;</span><br><span class="line">nnoremap &lt;C-S-TAB&gt; :tabprev&lt;CR&gt;</span><br><span class="line"></span><br><span class="line">&quot;关于tab的快捷键</span><br><span class="line">&quot; map tn :tabnext&lt;cr&gt;</span><br><span class="line">&quot; map tp :tabprevious&lt;cr&gt;</span><br><span class="line">&quot; map td :tabnew .&lt;cr&gt;</span><br><span class="line">&quot; map te :tabedit</span><br><span class="line">&quot; map tc :tabclose&lt;cr&gt;</span><br><span class="line"></span><br><span class="line">&quot;窗口分割时,进行切换的按键热键需要连接两次,比如从下方窗口移动</span><br><span class="line">&quot;光标到上方窗口,需要&lt;c-w&gt;&lt;c-w&gt;k,非常麻烦,现在重映射为&lt;c-k&gt;,切换的</span><br><span class="line">&quot;时候会变得非常方便.</span><br><span class="line">nnoremap &lt;C-h&gt; &lt;C-w&gt;h</span><br><span class="line">nnoremap &lt;C-j&gt; &lt;C-w&gt;j</span><br><span class="line">nnoremap &lt;C-k&gt; &lt;C-w&gt;k</span><br><span class="line">nnoremap &lt;C-l&gt; &lt;C-w&gt;l</span><br><span class="line"></span><br><span class="line">&quot;一些不错的映射转换语法（如果在一个文件中混合了不同语言时有用）</span><br><span class="line">nnoremap &lt;leader&gt;1 :set filetype=xhtml&lt;CR&gt;</span><br><span class="line">nnoremap &lt;leader&gt;2 :set filetype=css&lt;CR&gt;</span><br><span class="line">nnoremap &lt;leader&gt;3 :set filetype=javascript&lt;CR&gt;</span><br><span class="line">nnoremap &lt;leader&gt;4 :set filetype=php&lt;CR&gt;</span><br><span class="line"></span><br><span class="line">&quot; set fileformats=unix,dos,mac</span><br><span class="line">&quot; nmap &lt;leader&gt;fd :se fileformat=dos&lt;CR&gt;</span><br><span class="line">&quot; nmap &lt;leader&gt;fu :se fileformat=unix&lt;CR&gt;</span><br><span class="line"></span><br><span class="line">&quot; use Ctrl+[l|n|p|cc] to list|next|previous|jump to count the result</span><br><span class="line">&quot; map &lt;C-x&gt;l &lt;ESC&gt;:cl&lt;CR&gt;</span><br><span class="line">&quot; map &lt;C-x&gt;n &lt;ESC&gt;:cn&lt;CR&gt;</span><br><span class="line">&quot; map &lt;C-x&gt;p &lt;ESC&gt;:cp&lt;CR&gt;</span><br><span class="line">&quot; map &lt;C-x&gt;c &lt;ESC&gt;:cc&lt;CR&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&quot; 让 Tohtml 产生有 CSS 语法的 html</span><br><span class="line">&quot; syntax/2html.vim，可以用:runtime! syntax/2html.vim</span><br><span class="line">let html_use_css=1</span><br><span class="line"></span><br><span class="line">&quot; Python 文件的一般设置，比如不要 tab 等</span><br><span class="line">autocmd FileType python set tabstop=4 shiftwidth=4 expandtab</span><br><span class="line">autocmd FileType python map &lt;F12&gt; :!python %&lt;CR&gt;</span><br><span class="line"></span><br><span class="line">&quot; 选中状态下 Ctrl+c 复制</span><br><span class="line">vmap &lt;C-c&gt; &quot;+y</span><br><span class="line"></span><br><span class="line">&quot; 打开javascript折叠</span><br><span class="line">let b:javascript_fold=1</span><br><span class="line">&quot; 打开javascript对dom、html和css的支持</span><br><span class="line">let javascript_enable_domhtmlcss=1</span><br><span class="line">&quot; 设置字典 ~/.vim/dict/文件的路径</span><br><span class="line">autocmd filetype javascript set dictionary=$VIMFILES/dict/javascript.dict</span><br><span class="line">autocmd filetype css set dictionary=$VIMFILES/dict/css.dict</span><br><span class="line">autocmd filetype php set dictionary=$VIMFILES/dict/php.dict</span><br><span class="line"></span><br><span class="line">&quot;-----------------------------------------------------------------</span><br><span class="line">&quot; plugin - bufexplorer.vim Buffers切换</span><br><span class="line">&quot; \be 全屏方式查看全部打开的文件列表</span><br><span class="line">&quot; \bv 左右方式查看   \bs 上下方式查看</span><br><span class="line">&quot;-----------------------------------------------------------------</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&quot;-----------------------------------------------------------------</span><br><span class="line">&quot; plugin - taglist.vim  查看函数列表，需要ctags程序</span><br><span class="line">&quot; F4 打开隐藏taglist窗口</span><br><span class="line">&quot;-----------------------------------------------------------------</span><br><span class="line">if MySys() == &quot;windows&quot;                &quot; 设定windows系统中ctags程序的位置</span><br><span class="line">    let Tlist_Ctags_Cmd = &#x27;&quot;&#x27;.$VIMRUNTIME.&#x27;/ctags.exe&quot;&#x27;</span><br><span class="line">elseif MySys() == &quot;linux&quot;              &quot; 设定windows系统中ctags程序的位置</span><br><span class="line">    let Tlist_Ctags_Cmd = &#x27;/usr/bin/ctags&#x27;</span><br><span class="line">endif</span><br><span class="line">nnoremap &lt;silent&gt;&lt;F4&gt; :TlistToggle&lt;CR&gt;</span><br><span class="line">let Tlist_Show_One_File = 1            &quot; 不同时显示多个文件的tag，只显示当前文件的</span><br><span class="line">let Tlist_Exit_OnlyWindow = 1          &quot; 如果taglist窗口是最后一个窗口，则退出vim</span><br><span class="line">let Tlist_Use_Right_Window = 1         &quot; 在右侧窗口中显示taglist窗口</span><br><span class="line">let Tlist_File_Fold_Auto_Close=1       &quot; 自动折叠当前非编辑文件的方法列表</span><br><span class="line">let Tlist_Auto_Open = 0</span><br><span class="line">let Tlist_Auto_Update = 1</span><br><span class="line">let Tlist_Hightlight_Tag_On_BufEnter = 1</span><br><span class="line">let Tlist_Enable_Fold_Column = 0</span><br><span class="line">let Tlist_Process_File_Always = 1</span><br><span class="line">let Tlist_Display_Prototype = 0</span><br><span class="line">let Tlist_Compact_Format = 1</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&quot;-----------------------------------------------------------------</span><br><span class="line">&quot; plugin - mark.vim 给各种tags标记不同的颜色，便于观看调式的插件。</span><br><span class="line">&quot; \m  mark or unmark the word under (or before) the cursor</span><br><span class="line">&quot; \r  manually input a regular expression. 用于搜索.</span><br><span class="line">&quot; \n  clear this mark (i.e. the mark under the cursor), or clear all highlighted marks .</span><br><span class="line">&quot; \*  当前MarkWord的下一个     \#  当前MarkWord的上一个</span><br><span class="line">&quot; \/  所有MarkWords的下一个    \?  所有MarkWords的上一个</span><br><span class="line">&quot;-----------------------------------------------------------------</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&quot;-----------------------------------------------------------------</span><br><span class="line">&quot; plugin - NERD_tree.vim 以树状方式浏览系统中的文件和目录</span><br><span class="line">&quot; :ERDtree 打开NERD_tree         :NERDtreeClose    关闭NERD_tree</span><br><span class="line">&quot; o 打开关闭文件或者目录         t 在标签页中打开</span><br><span class="line">&quot; T 在后台标签页中打开           ! 执行此文件</span><br><span class="line">&quot; p 到上层目录                   P 到根目录</span><br><span class="line">&quot; K 到第一个节点                 J 到最后一个节点</span><br><span class="line">&quot; u 打开上层目录                 m 显示文件系统菜单（添加、删除、移动操作）</span><br><span class="line">&quot; r 递归刷新当前目录             R 递归刷新当前根目录</span><br><span class="line">&quot;-----------------------------------------------------------------</span><br><span class="line">&quot; F3 NERDTree 切换</span><br><span class="line">map &lt;F3&gt; :NERDTreeToggle&lt;CR&gt;</span><br><span class="line">imap &lt;F3&gt; &lt;ESC&gt;:NERDTreeToggle&lt;CR&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&quot;-----------------------------------------------------------------</span><br><span class="line">&quot; plugin - NERD_commenter.vim   注释代码用的，</span><br><span class="line">&quot; [count],cc 光标以下count行逐行添加注释(7,cc)</span><br><span class="line">&quot; [count],cu 光标以下count行逐行取消注释(7,cu)</span><br><span class="line">&quot; [count],cm 光标以下count行尝试添加块注释(7,cm)</span><br><span class="line">&quot; ,cA 在行尾插入 /* */,并且进入插入模式。 这个命令方便写注释。</span><br><span class="line">&quot; 注：count参数可选，无则默认为选中行或当前行</span><br><span class="line">&quot;-----------------------------------------------------------------</span><br><span class="line">let NERDSpaceDelims=1       &quot; 让注释符与语句之间留一个空格</span><br><span class="line">let NERDCompactSexyComs=1   &quot; 多行注释时样子更好看</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&quot;-----------------------------------------------------------------</span><br><span class="line">&quot; plugin - DoxygenToolkit.vim  由注释生成文档，并且能够快速生成函数标准注释</span><br><span class="line">&quot;-----------------------------------------------------------------</span><br><span class="line">let g:DoxygenToolkit_authorName=&quot;Asins - asinsimple AT gmail DOT com&quot;</span><br><span class="line">let g:DoxygenToolkit_briefTag_funcName=&quot;yes&quot;</span><br><span class="line">map &lt;leader&gt;da :DoxAuthor&lt;CR&gt;</span><br><span class="line">map &lt;leader&gt;df :Dox&lt;CR&gt;</span><br><span class="line">map &lt;leader&gt;db :DoxBlock&lt;CR&gt;</span><br><span class="line">map &lt;leader&gt;dc a /*  */&lt;LEFT&gt;&lt;LEFT&gt;&lt;LEFT&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&quot;-----------------------------------------------------------------</span><br><span class="line">&quot; plugin – ZenCoding.vim 很酷的插件，HTML代码生成</span><br><span class="line">&quot; 插件最新版：http://github.com/mattn/zencoding-vim</span><br><span class="line">&quot; 常用命令可看：http://nootn.com/blog/Tool/23/</span><br><span class="line">&quot;-----------------------------------------------------------------</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&quot;-----------------------------------------------------------------</span><br><span class="line">&quot; plugin – checksyntax.vim    JavaScript常见语法错误检查</span><br><span class="line">&quot; 默认快捷方式为 F5</span><br><span class="line">&quot;-----------------------------------------------------------------</span><br><span class="line">let g:checksyntax_auto = 0 &quot; 不自动检查</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&quot;-----------------------------------------------------------------</span><br><span class="line">&quot; plugin - NeoComplCache.vim    自动补全插件</span><br><span class="line">&quot;-----------------------------------------------------------------</span><br><span class="line">let g:AutoComplPop_NotEnableAtStartup = 1</span><br><span class="line">let g:NeoComplCache_EnableAtStartup = 1</span><br><span class="line">let g:NeoComplCache_SmartCase = 1</span><br><span class="line">let g:NeoComplCache_TagsAutoUpdate = 1</span><br><span class="line">let g:NeoComplCache_EnableInfo = 1</span><br><span class="line">let g:NeoComplCache_EnableCamelCaseCompletion = 1</span><br><span class="line">let g:NeoComplCache_MinSyntaxLength = 3</span><br><span class="line">let g:NeoComplCache_EnableSkipCompletion = 1</span><br><span class="line">let g:NeoComplCache_SkipInputTime = &#x27;0.5&#x27;</span><br><span class="line">let g:NeoComplCache_SnippetsDir = $VIMFILES.&#x27;/snippets&#x27;</span><br><span class="line">&quot; &lt;TAB&gt; completion.</span><br><span class="line">inoremap &lt;expr&gt;&lt;TAB&gt; pumvisible() ? &quot;\&lt;C-n&gt;&quot; : &quot;\&lt;TAB&gt;&quot;</span><br><span class="line">&quot; snippets expand key</span><br><span class="line">imap &lt;silent&gt; &lt;C-e&gt; &lt;Plug&gt;(neocomplcache_snippets_expand)</span><br><span class="line">&quot;smap &lt;silent&gt; &lt;C-e&gt; &lt;Plug&gt;(neocomplcache_snippets_expand)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&quot;-----------------------------------------------------------------</span><br><span class="line">&quot; plugin - matchit.vim   对%命令进行扩展使得能在嵌套标签和语句之间跳转</span><br><span class="line">&quot; % 正向匹配      g% 反向匹配</span><br><span class="line">&quot; [% 定位块首     ]% 定位块尾</span><br><span class="line">&quot;-----------------------------------------------------------------</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&quot;-----------------------------------------------------------------</span><br><span class="line">&quot; plugin - vcscommand.vim   对%命令进行扩展使得能在嵌套标签和语句之间跳转</span><br><span class="line">&quot; SVN/git管理工具</span><br><span class="line">&quot;-----------------------------------------------------------------</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&quot;-----------------------------------------------------------------</span><br><span class="line">&quot; plugin – a.vim</span><br><span class="line">&quot;-----------------------------------------------------------------</span><br><span class="line">imap &lt;F9&gt; &lt;esc&gt;:tabN&lt;cr&gt;</span><br><span class="line">imap &lt;F10&gt; &lt;esc&gt;:tabn&lt;cr&gt;</span><br><span class="line">nmap &lt;F9&gt; :tabN&lt;cr&gt;</span><br><span class="line">nmap &lt;F10&gt; :tabn&lt;cr&gt;</span><br><span class="line">&quot;set showtabline=1</span><br><span class="line">hi Comment ctermfg=2</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">highlight Visual cterm=bold ctermbg=Blue ctermfg=NONE #visual 选中高亮的底色变成浅色</span><br></pre></td></tr></table></figure>
<h3 id="Vimdiff"><a href="#Vimdiff" class="headerlink" title="Vimdiff"></a>Vimdiff</h3><p>更改对比颜色</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">:colo desert</span><br></pre></td></tr></table></figure>
<h3 id="vi语法高亮shell脚本"><a href="#vi语法高亮shell脚本" class="headerlink" title="vi语法高亮shell脚本"></a>vi语法高亮shell脚本</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"># ~/.vimrc</span><br><span class="line">filetype plugin indent on</span><br><span class="line">syntax on</span><br></pre></td></tr></table></figure>
<h3 id="vim-amp-vi-配置"><a href="#vim-amp-vi-配置" class="headerlink" title="vim &amp; vi 配置"></a>vim &amp; vi 配置</h3><p><a href="https://www.dazhuanlan.com/2019/10/02/5d94884599d6c/">https://www.dazhuanlan.com/2019/10/02/5d94884599d6c/</a></p>
<p>在vimrc中加入:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">hi CursorLine term=bold cterm=bold ctermbg=Red</span><br><span class="line"># 在vi中使用</span><br><span class="line">set cursorline</span><br><span class="line">or</span><br><span class="line">set cul</span><br></pre></td></tr></table></figure>
<h3 id="查找"><a href="#查找" class="headerlink" title="查找"></a>查找</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"># 高亮显示搜索匹配的词</span><br><span class="line">:set hlsearch    </span><br><span class="line"></span><br><span class="line"># 每输入一个字符，搜索一次，表现是同时高亮多个正则匹配</span><br><span class="line"># 在普通搜索前执行此命令</span><br><span class="line">:set incsearch</span><br><span class="line"></span><br><span class="line"># 忽略大小写</span><br><span class="line">:set ignorecase   </span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>查找当前光标所在单词:<br>* 向下查找全部匹配的字符串（按住shift+*键），同时左下角会显示等效的命令模式指令<br># 向上查找全部匹配的字符（按住shift+#键），同时左下角会显示等效的命令模式指令<br>g* 向下查找包含当前字符的匹配字符串（按住shift+*键），同时左下角会显示等效的命令模式指令<br>g# 向上查找包含当前字符的匹配字符串（按住shift+#键），同时左下角会显示等效的命令模式指令<br>\% 括号匹配 包括 () [] { }.</p>
<h3 id="全部替换"><a href="#全部替换" class="headerlink" title="全部替换"></a>全部替换</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">:[addr]s/源字符串/目标字符串/[option]</span><br><span class="line"># 全局替换</span><br><span class="line">:%s/源字符串/目标字符串/g</span><br><span class="line"></span><br><span class="line"># 全部替换和添加确认环节</span><br><span class="line">:%s/search_for_this/replace_with_this/    - search whole file and replace</span><br><span class="line">:%s/search_for_this/replace_with_this/c   - confirm each replace</span><br></pre></td></tr></table></figure>
<h3 id="cursor颜色"><a href="#cursor颜色" class="headerlink" title="cursor颜色"></a>cursor颜色</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">set cursorline</span><br><span class="line">hi CursorLine   cterm=NONE ctermbg=lightgray ctermfg=white guibg=lightgray guifg=white</span><br><span class="line">set cursorcolumn</span><br><span class="line">hi CursorColumn   cterm=NONE ctermbg=lightgray ctermfg=white guibg=lightgray guifg=white</span><br><span class="line"># 设置更浅的灰色</span><br><span class="line">hi CursorLine term=bold cterm=bold ctermbg=237</span><br></pre></td></tr></table></figure>
<h3 id="空格替换tab"><a href="#空格替换tab" class="headerlink" title="空格替换tab"></a>空格替换tab</h3><p><a href="https://blog.csdn.net/jiang1013nan/article/details/6298727">https://blog.csdn.net/jiang1013nan/article/details/6298727</a><br>在.vimrc中添加以下代码后，重启vim即可实现按TAB产生4个空格：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">#~/.vimrc</span><br><span class="line">set ts=4  (注：ts是tabstop的缩写，设TAB宽4个空格)</span><br><span class="line">set expandtab</span><br></pre></td></tr></table></figure>
<p>对于已保存的文件，可以使用下面的方法进行空格和TAB的替换：<br>TAB替换为空格：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">:set ts=4</span><br><span class="line">:set expandtab</span><br><span class="line">:%retab!</span><br></pre></td></tr></table></figure>
<p>空格替换为TAB：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">:set ts=4</span><br><span class="line">:set noexpandtab</span><br><span class="line">:%retab!</span><br></pre></td></tr></table></figure>
<h2 id="后台运行"><a href="#后台运行" class="headerlink" title="后台运行"></a>后台运行</h2><p>单纯的后天运行直接似使用<br>参考：[link][2]</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">command &amp; #后台运行</span><br><span class="line">ctrl + z #将一个正在前台执行的命令放到后台，并且暂停</span><br><span class="line">jobs -l</span><br><span class="line">fg %1 #前台显示</span><br><span class="line">bg %1 #将任务后台运行，比如cltr+z后会挂起任务，并显示任务号，此时就可以用这个命令让其后台运行</span><br></pre></td></tr></table></figure>
<h3 id="nohup"><a href="#nohup" class="headerlink" title="nohup"></a><a href="https://www.cnblogs.com/jinxiao-pu/p/9131057.html">nohup</a></h3><p>nohup 命令运行由 Command参数和任何相关的 Arg参数指定的命令，忽略所有挂断（SIGHUP）信号。在注销后使用 nohup 命令运行后台中的程序。要运行后台中的 nohup 命令，添加 &amp; （ 表示“and”的符号）到命令的尾部。</p>
<p><strong>nohup 是 no hang up 的缩写，就是不挂断的意思。</strong></p>
<h3 id="nohup和-amp-的区别"><a href="#nohup和-amp-的区别" class="headerlink" title="nohup和 &amp; 的区别"></a><a href="https://www.cnblogs.com/jinxiao-pu/p/9131057.html">nohup和 &amp; 的区别</a></h3><p>&amp; ： 指在后台运行<br>nohup ： 不挂断的运行，注意并没有后台运行的功能，，就是指，用nohup运行命令可以使命令永久的执行下去，和用户终端没有关系，例如我们断开SSH连接都不会影响他的运行，注意了nohup没有后台运行的意思；&amp;才是后台运行</p>
<h3 id="获得nohup后台运行进程的PID"><a href="#获得nohup后台运行进程的PID" class="headerlink" title="获得nohup后台运行进程的PID"></a><a href="https://www.jianshu.com/p/5a04e2452e3f">获得nohup后台运行进程的PID</a></h3><p>nohup command &gt; logfile.txt &amp; echo $! &gt; pidfile.txt<br>其实也可以在command.sh里面写入：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">echo current pid = $$</span><br></pre></td></tr></table></figure>
<div class="table-container">
<table>
<thead>
<tr>
<th>变量名</th>
<th>含义</th>
</tr>
</thead>
<tbody>
<tr>
<td>$$</td>
<td>Shell本身的PID（ProcessID）</td>
</tr>
<tr>
<td>$!</td>
<td>Shell最后运行的后台Process的PID</td>
</tr>
<tr>
<td>$?</td>
<td>最后运行的命令的结束代码（返回值）</td>
</tr>
<tr>
<td>$-</td>
<td>使用Set命令设定的Flag一览</td>
</tr>
<tr>
<td>$*</td>
<td>所有参数列表。如”$*”用「”」括起来的情况、以”$1 $2 …$n”的形式输出所有参数。</td>
</tr>
<tr>
<td>$@</td>
<td>所有参数列表。如”$@”用「”」括起来的情况、以”$1” “$2” … “$n” 的形式输出所有参数。</td>
</tr>
<tr>
<td>$#</td>
<td>添加到Shell的参数个数</td>
</tr>
<tr>
<td>$0</td>
<td>Shell本身的文件名</td>
</tr>
<tr>
<td>$1-$n</td>
<td>添加到Shell的各参数值。$1是第1参数、$2是第2参数…。</td>
</tr>
</tbody>
</table>
</div>
<h3 id="2-gt-amp-1解析"><a href="#2-gt-amp-1解析" class="headerlink" title="2&gt;&amp;1解析"></a><a href="https://www.cnblogs.com/zzyoucan/p/7764590.html">2&gt;&amp;1解析</a></h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cmmand &gt;out.file 2&gt;&amp;1 &amp;</span><br></pre></td></tr></table></figure>
<ul>
<li>command&gt;out.file是将command的输出重定向到out.file文件，即输出内容不打印到屏幕上，而是输出到out.file文件中。</li>
<li>2&gt;&amp;1 是将标准出错重定向到标准输出，这里的标准输出已经重定向到了out.file文件，即将标准出错也输出到out.file文件中。最后一个&amp;， 是让该命令在后台执行。</li>
<li>试想2&gt;1代表什么，2与&gt;结合代表错误重定向，而1则代表错误重定向到一个文件1，而不代表标准输出；换成2&gt;&amp;1，&amp;与1结合就代表标准输出了，就变成错误重定向到标准输出.</li>
</ul>
<h3 id="查看后台任务或进程"><a href="#查看后台任务或进程" class="headerlink" title="查看后台任务或进程"></a><a href="https://www.cnblogs.com/baby123/p/6477429.html">查看后台任务或进程</a></h3><ul>
<li>jobs -l<br>jobs命令只看当前终端生效的，关闭终端后，在另一个终端jobs已经无法看到后台跑得程序了，此时利用ps（进程查看命令）</li>
<li>ps -ef</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">s -aux|grep chat.js</span><br><span class="line"> a:显示所有程序 </span><br><span class="line"> u:以用户为主的格式来显示 </span><br><span class="line"> x:显示所有程序，不以终端机来区分</span><br></pre></td></tr></table></figure>
<h3 id="wait-命令-获取上一个后台进程的进程号以及状态"><a href="#wait-命令-获取上一个后台进程的进程号以及状态" class="headerlink" title="wait 命令+获取上一个后台进程的进程号以及状态"></a>wait 命令+获取上一个后台进程的进程号以及状态</h3><p><code>wait_test.sh</code></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">!/usr/bin/env bash</span></span><br><span class="line"></span><br><span class="line">echo &quot;current job pid: &quot; $$</span><br><span class="line"></span><br><span class="line">bash wait_error_job.sh 1 &amp;</span><br><span class="line">job_1=$!</span><br><span class="line">bash wait_error_job.sh 2 &amp;</span><br><span class="line">job_2=$!</span><br><span class="line"></span><br><span class="line">wait $job_1   </span><br><span class="line">job_1_status=$?</span><br><span class="line">wait $job_2</span><br><span class="line">job_2_status=$?</span><br><span class="line"></span><br><span class="line">echo &quot;job 1 pid: &quot; $&#123;job_1&#125; &quot; status: &quot; $&#123;job_1_status&#125;</span><br><span class="line">echo &quot;job 2 pid: &quot; $&#123;job_2&#125; &quot; status: &quot; $&#123;job_2_status&#125;</span><br></pre></td></tr></table></figure>
<p><code>wait_error_job.sh</code></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">!/usr/bin/env bash</span></span><br><span class="line"></span><br><span class="line">echo &quot;I am job: &quot; $1 &quot;my pid is: &quot; $$</span><br><span class="line">sleep 5 </span><br><span class="line">if [ $1 -eq 1 ];then</span><br><span class="line">    echo &quot;this is job 1, success&quot;</span><br><span class="line">else</span><br><span class="line">    echo &quot;this is job 2, failed&quot;</span><br><span class="line">    lls # 拼写错误的命令，用来报错</span><br><span class="line">fi</span><br></pre></td></tr></table></figure>
<h3 id="disown"><a href="#disown" class="headerlink" title="disown"></a>disown</h3><p>场景：<a href="http://www.ibm.com/developerworks/cn/linux/l-cn-nohup/">http://www.ibm.com/developerworks/cn/linux/l-cn-nohup/</a><br>我们已经知道，如果事先在命令前加上 nohup 或者 setsid 就可以避免 HUP 信号的影响。但是如果我们未加任何处理就已经提交了命令，该如何补救才能让它避免 HUP 信号的影响呢？<br>解决方法：<br>这时想加 nohup 或者 setsid 已经为时已晚，只能通过作业调度和 disown 来解决这个问题了。让我们来看一下 disown 的帮助信息：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">disown [-ar] [-h] [jobspec ...]</span><br><span class="line"> Without options, each jobspec is  removed  from  the  table  of</span><br><span class="line"> active  jobs.   If  the -h option is given, each jobspec is not</span><br><span class="line"> removed from the table, but is marked so  that  SIGHUP  is  not</span><br><span class="line"> sent  to the job if the shell receives a SIGHUP.  If no jobspec</span><br><span class="line"> is present, and neither the -a nor the -r option  is  supplied,</span><br><span class="line"> the  current  job  is  used.  If no jobspec is supplied, the -a</span><br><span class="line"> option means to remove or mark all jobs; the -r option  without</span><br><span class="line"> a  jobspec  argument  restricts operation to running jobs.  The</span><br><span class="line"> return value is 0 unless a jobspec does  not  specify  a  valid</span><br><span class="line"> job.</span><br></pre></td></tr></table></figure>
<p>可以看出，我们可以用如下方式来达成我们的目的。<br>灵活运用 CTRL-z<br>在我们的日常工作中，我们可以用 CTRL-z 来将当前进程挂起到后台暂停运行，执行一些别的操作，然后再用 fg 来将挂起的进程重新放回前台（也可用 bg 来将挂起的进程放在后台）继续运行。这样我们就可以在一个终端内灵活切换运行多个任务，这一点在调试代码时尤为有用。因为将代码编辑器挂起到后台再重新放回时，光标定位仍然停留在上次挂起时的位置，避免了重新定位的麻烦。<br>用disown -h jobspec来使某个作业忽略HUP信号。<br>用disown -ah 来使所有的作业都忽略HUP信号。<br>用disown -rh 来使正在运行的作业忽略HUP信号。<br>需要注意的是，当使用过 disown 之后，会将把目标作业从作业列表中移除，我们将不能再使用jobs来查看它，但是依然能够用ps -ef查找到它。<br>但是还有一个问题，这种方法的操作对象是作业，如果我们在运行命令时在结尾加了”&amp;”来使它成为一个作业并在后台运行，那么就万事大吉了，我们可以通过jobs命令来得到所有作业的列表。但是如果并没有把当前命令作为作业来运行，如何才能得到它的作业号呢？答案就是用 CTRL-z（按住Ctrl键的同时按住z键）了！<br>CTRL-z 的用途就是将当前进程挂起（Suspend），然后我们就可以用jobs命令来查询它的作业号，再用bg jobspec来将它放入后台并继续运行。需要注意的是，如果挂起会影响当前进程的运行结果，请慎用此方法。<br>disown 示例1（如果提交命令时已经用“&amp;”将命令放入后台运行，则可以直接使用“disown”）</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">[root@pvcent107 build]# cp -r testLargeFile largeFile &amp;</span><br><span class="line">[1] 4825</span><br><span class="line">[root@pvcent107 build]# jobs</span><br><span class="line">[1]+  Running                 cp -i -r testLargeFile largeFile &amp;</span><br><span class="line">[root@pvcent107 build]# disown -h %1</span><br><span class="line">[root@pvcent107 build]# ps -ef |grep largeFile</span><br><span class="line">root      4825   968  1 09:46 pts/4    00:00:00 cp -i -r testLargeFile largeFile</span><br><span class="line">root      4853   968  0 09:46 pts/4    00:00:00 grep largeFile</span><br><span class="line">[root@pvcent107 build]# logout</span><br></pre></td></tr></table></figure>
<p>disown 示例2（如果提交命令时未使用“&amp;”将命令放入后台运行，可使用 CTRL-z 和“bg”将其放入后台，再使用“disown”）</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">[root@pvcent107 build]# cp -r testLargeFile largeFile2</span><br><span class="line"></span><br><span class="line">[1]+  Stopped                 cp -i -r testLargeFile largeFile2</span><br><span class="line">[root@pvcent107 build]# bg %1</span><br><span class="line">[1]+ cp -i -r testLargeFile largeFile2 &amp;</span><br><span class="line">[root@pvcent107 build]# jobs</span><br><span class="line">[1]+  Running                 cp -i -r testLargeFile largeFile2 &amp;</span><br><span class="line">[root@pvcent107 build]# disown -h %1</span><br><span class="line">[root@pvcent107 build]# ps -ef |grep largeFile2</span><br><span class="line">root      5790  5577  1 10:04 pts/3    00:00:00 cp -i -r testLargeFile largeFile2</span><br><span class="line">root      5824  5577  0 10:05 pts/3    00:00:00 grep largeFile2</span><br><span class="line">[root@pvcent107 build]#</span><br></pre></td></tr></table></figure>
<h3 id="screen"><a href="#screen" class="headerlink" title="screen"></a>screen</h3><p>用screen -dmS session name来建立一个处于断开模式下的会话（并指定其会话名）。<br>用screen -list 来列出所有会话。<br>用screen -r session name来重新连接指定会话。<br>用快捷键CTRL-a d 来暂时断开当前会话。<br>screen 示例</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[root@pvcent107 ~]# screen -dmS Urumchi</span><br><span class="line">[root@pvcent107 ~]# screen -list</span><br><span class="line">There is a screen on:</span><br><span class="line">        12842.Urumchi   (Detached)</span><br><span class="line">1 Socket in /tmp/screens/S-root.</span><br><span class="line"></span><br><span class="line">[root@pvcent107 ~]# screen -r Urumchi</span><br></pre></td></tr></table></figure>
<p>1.未使用 screen 时新进程的进程树</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">[root@pvcent107 ~]# ping www.google.com &amp;</span><br><span class="line">[1] 9499</span><br><span class="line">[root@pvcent107 ~]# pstree -H 9499</span><br><span class="line">init─┬─Xvnc</span><br><span class="line">     ├─acpid</span><br><span class="line">     ├─atd</span><br><span class="line">     ├─2*[sendmail] </span><br><span class="line">     ├─sshd─┬─sshd───bash───pstree</span><br><span class="line">     │       └─sshd───bash───ping</span><br><span class="line">我们可以看出，未使用 screen 时我们所处的 bash 是 sshd 的子进程，当 ssh 断开连接时，HUP 信号自然会影响到它下面的所有子进程（包括我们新建立的 ping 进程）。</span><br></pre></td></tr></table></figure>
<p>2.使用了 screen 后新进程的进程树</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">[root@pvcent107 ~]# screen -r Urumchi</span><br><span class="line">[root@pvcent107 ~]# ping www.ibm.com &amp;</span><br><span class="line">[1] 9488</span><br><span class="line">[root@pvcent107 ~]# pstree -H 9488</span><br><span class="line">init─┬─Xvnc</span><br><span class="line">     ├─acpid</span><br><span class="line">     ├─atd</span><br><span class="line">     ├─screen───bash───ping</span><br><span class="line">     ├─2*[sendmail]</span><br></pre></td></tr></table></figure>
<p>而使用了 screen 后就不同了，此时 bash 是 screen 的子进程，而 screen 是 init（PID为1）的子进程。那么当 ssh 断开连接时，HUP 信号自然不会影响到 screen 下面的子进程了。</p>
<h2 id="TOP-命令"><a href="#TOP-命令" class="headerlink" title="TOP 命令"></a>TOP 命令</h2><p><a href="https://www.binarytides.com/linux-top-command/">https://www.binarytides.com/linux-top-command/</a><br><a href="https://www.zhihu.com/question/378345922/answer/1069674567">https://www.zhihu.com/question/378345922/answer/1069674567</a></p>
<h2 id="批量下载图片"><a href="#批量下载图片" class="headerlink" title="批量下载图片"></a>批量下载图片</h2><p><a href="https://www.jb51.net/article/122242.htm">参考代码</a></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash"><span class="keyword">while</span> 循环读取文件，文件放在 <span class="keyword">done</span> 后面</span></span><br><span class="line">while read line;</span><br><span class="line">do</span><br><span class="line">    #echo &quot;read line&quot; $i &quot;:&quot; $line | tee -a $log_file</span><br><span class="line">    let &quot;i=$i+1&quot;</span><br><span class="line">    arr=($line)</span><br><span class="line">    rnd=$(rand 0 6)</span><br><span class="line">    curl_cmd=&quot;curl -o $&#123;img_dir&#125;$&#123;arr[0]&#125;.jpg $&#123;host[$rnd]&#125;$&#123;arr[1]&#125;&quot;</span><br><span class="line">    echo $curl_cmd</span><br><span class="line">    eval &quot;$curl_cmd &quot;</span><br><span class="line">done &lt; $sku_info</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h2 id="随机数"><a href="#随机数" class="headerlink" title="随机数"></a>随机数</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">function rand()&#123;</span><br><span class="line">    min=$1</span><br><span class="line">    max=$(($2-$min+1))</span><br><span class="line">    num=$(cat /proc/sys/kernel/random/uuid | cksum | awk -F &#x27; &#x27; &#x27;&#123;print $1&#125;&#x27;)</span><br><span class="line">    echo $(($num%$max+$min))</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">使用方法</span></span><br><span class="line"><span class="meta prompt_">&gt;</span><span class="language-bash">&gt; rnd=$(rand 0 10) <span class="comment">#0-10内的整数</span></span></span><br></pre></td></tr></table></figure>
<h3 id="随机筛选数据"><a href="#随机筛选数据" class="headerlink" title="随机筛选数据"></a>随机筛选数据</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">shuf dataset.dat -n 20 -o dataset_sample.dat</span><br></pre></td></tr></table></figure>
<h2 id="判断文件是否存在"><a href="#判断文件是否存在" class="headerlink" title="判断文件是否存在"></a>判断文件是否存在</h2><p><a href="https://www.jb51.net/article/122242.htm">参考文件</a></p>
<h3 id="1-文件夹不存在则创建"><a href="#1-文件夹不存在则创建" class="headerlink" title="1.文件夹不存在则创建"></a>1.文件夹不存在则创建</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">if [ ! -d &quot;/data/&quot; ];then</span><br><span class="line">mkdir /data</span><br><span class="line">else</span><br><span class="line">echo &quot;文件夹已经存在&quot;</span><br><span class="line">fi</span><br></pre></td></tr></table></figure>
<h3 id="2-文件存在则删除"><a href="#2-文件存在则删除" class="headerlink" title="2.文件存在则删除"></a>2.文件存在则删除</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">if [ ! -f &quot;/data/filename&quot; ];then</span><br><span class="line">echo &quot;文件不存在&quot;</span><br><span class="line">else</span><br><span class="line">rm -f /data/filename</span><br><span class="line">fi</span><br></pre></td></tr></table></figure>
<h3 id="3-判断文件夹是否存在"><a href="#3-判断文件夹是否存在" class="headerlink" title="3.判断文件夹是否存在"></a>3.判断文件夹是否存在</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">if [ -d &quot;/data/&quot; ];then</span><br><span class="line">echo &quot;文件夹存在&quot;</span><br><span class="line">else</span><br><span class="line">echo &quot;文件夹不存在&quot;</span><br><span class="line">fi</span><br></pre></td></tr></table></figure>
<h3 id="4-判断文件是否存在"><a href="#4-判断文件是否存在" class="headerlink" title="4.判断文件是否存在"></a>4.判断文件是否存在</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">if [ -f &quot;/data/filename&quot; ];then</span><br><span class="line">echo &quot;文件存在&quot;</span><br><span class="line">else</span><br><span class="line">echo &quot;文件不存在&quot;</span><br><span class="line">fi</span><br></pre></td></tr></table></figure>
<h2 id="日期处理"><a href="#日期处理" class="headerlink" title="日期处理"></a>日期处理</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">n 天后的日期 yyyy-mm-dd</span></span><br><span class="line">n_days_later=`date --date &quot;$&#123;cur_day&#125; n day&quot; +%Y-%m-%d`</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">n 天前的日期</span> </span><br><span class="line">n_days_ago=`date --date &quot;$&#123;cur_day&#125; n day ago&quot; +%Y-%m-%d`</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"><span class="comment"># 获取时间戳，用以比较大小</span></span></span><br><span class="line">today_t=`date -d &quot;$&#123;today&#125;&quot; +%s`</span><br><span class="line">tomorrow_t=`date -d &quot;$&#123;tomorrow&#125;&quot; +%s`</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"><span class="comment"># 循环一段时间 yyyy-mm-dd</span></span></span><br><span class="line">start_day=2019-09-08</span><br><span class="line">end_day=2019-09-17</span><br><span class="line">dt=$&#123;start_day&#125; </span><br><span class="line">while [ &quot;$&#123;dt&#125;&quot; != &quot;$&#123;end_day&#125;&quot; ];do</span><br><span class="line">    echo &quot;-------------统计日期: $&#123;dt&#125;----------------&quot;</span><br><span class="line">    predt=$(date -I -d &quot;$&#123;dt&#125; - 1 day&quot;)</span><br><span class="line">    dt=$(date -I -d &quot;$&#123;dt&#125; + 1 day&quot;)</span><br><span class="line">done</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h2 id="条件语句-if-while）"><a href="#条件语句-if-while）" class="headerlink" title="条件语句(if,while）"></a>条件语句(if,while）</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash"><span class="comment"># while 条件语句</span></span></span><br><span class="line">while [ $&#123;today_t&#125; -le $&#123;tomorrow&#125; ];</span><br><span class="line">do</span><br><span class="line">    # do sth</span><br><span class="line">done</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"><span class="comment"># if 条件语句</span></span></span><br><span class="line">if [ $&#123;today_t&#125; -le $&#123;tomorrow_t&#125; ];</span><br><span class="line">then</span><br><span class="line">    #do sth</span><br><span class="line">    else</span><br><span class="line">    #do otherthing</span><br><span class="line">fi</span><br></pre></td></tr></table></figure>
<h3 id="if-条件判断大括号，中括号，圆括号"><a href="#if-条件判断大括号，中括号，圆括号" class="headerlink" title="if 条件判断大括号，中括号，圆括号"></a>if 条件判断大括号，中括号，圆括号</h3><p><a href="https://www.jianshu.com/p/3e1eaaa3fee8">https://www.jianshu.com/p/3e1eaaa3fee8</a></p>
<h3 id="判断文件、文件夹是否存在"><a href="#判断文件、文件夹是否存在" class="headerlink" title="判断文件、文件夹是否存在"></a>判断文件、文件夹是否存在</h3><p><a href="https://www.cnblogs.com/emanlee/p/3583769.html">https://www.cnblogs.com/emanlee/p/3583769.html</a></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">if [ ! -d &quot;$folder&quot;]; then</span><br><span class="line">  mkdir &quot;$folder&quot;</span><br><span class="line">fi</span><br></pre></td></tr></table></figure>
<h3 id="判断变量是否为空"><a href="#判断变量是否为空" class="headerlink" title="判断变量是否为空"></a>判断变量是否为空</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"># 1.判断变量</span><br><span class="line">if [ ! -n &quot;$var&quot; ];then ...</span><br><span class="line"># 2.判断输入参数</span><br><span class="line">if [ ! -n &quot;$1&quot; ];then ...</span><br><span class="line"># 3.直接变量判断</span><br><span class="line">if [ ! $var ];then ...</span><br><span class="line"># 4.使用test判断</span><br><span class="line">if test -z &quot;$var&quot; then ...</span><br><span class="line"># 5.使用&quot;&quot;判断</span><br><span class="line">if [ &quot;$var&quot; == &quot;&quot; ] then ...</span><br></pre></td></tr></table></figure>
<p>2.</p>
<p>3.</p>
<h2 id="检索"><a href="#检索" class="headerlink" title="检索"></a>检索</h2><h3 id="查找文件"><a href="#查找文件" class="headerlink" title="查找文件"></a>查找文件</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">#find 搜索目录 -name 目标名字</span><br><span class="line">#eg.</span><br><span class="line">find / -name filename  # /代表是全盘搜索,也可以指定目录搜索</span><br><span class="line"> </span><br><span class="line">##find 搜索文件的命令格式：</span><br><span class="line">##find [搜索范围] [匹配条件]</span><br><span class="line">#选项：</span><br><span class="line">#    -name  根据名字查找（精确查找）</span><br><span class="line">#    -iname 根据文件名查找，但是不区分大小写</span><br><span class="line">#    -size  根据文件大小查找, +,-:大于设置的大小,直接写大小是等于</span><br><span class="line">#    -user  查找用户名的所有者的所有文件</span><br><span class="line">#    -group 根据所属组查找相关文件</span><br><span class="line">#    -type  根据文件类型查找(f文件,d目录,l软链接文件)</span><br><span class="line">#    -inum  根据i节点查找</span><br><span class="line">#    -amin  访问时间access</span><br><span class="line">#    -cmin  文件属性change</span><br><span class="line">#    -mmin  文件内容modify</span><br><span class="line">#example    </span><br><span class="line">find /etc -iname &quot;*.sh&quot;</span><br><span class="line">find /etc -iname &quot;*.service&quot; 2&gt; /dev/null</span><br></pre></td></tr></table></figure>
<h2 id="重定向与文件操作符"><a href="#重定向与文件操作符" class="headerlink" title="重定向与文件操作符"></a>重定向与文件操作符</h2><p><a href="https://www.zhihu.com/question/53295083/answer/135258024">https://www.zhihu.com/question/53295083/answer/135258024</a></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"># 分开写</span><br><span class="line">cmd 2&gt;stderr.txt 1&gt;stdout.txt</span><br><span class="line"># 写入一个文件</span><br><span class="line">cmd &gt; output.txt 2&gt;&amp;1</span><br><span class="line">cmd &amp;&gt; output.txt</span><br><span class="line">cmd &gt;&amp; output.txt  # 两个表达式效果一样哒~</span><br></pre></td></tr></table></figure>
<p><a href="https://zhuanlan.zhihu.com/p/58419951">https://zhuanlan.zhihu.com/p/58419951</a><br>find /etc -iname “*.service” 2&gt;&amp;1 1&gt;services.txt<br>这是因为 Bash 从左到右处理 find 的每个结果。这样想：当 Bash 到达 2&gt;&amp;1 时，stdout （1）仍然是指向终端的通道。如果 find 给 Bash 的结果包含一个错误，它将被弹出到 2，转移到 1，然后留在终端！</p>
<p>相比之下，在：<br>find /etc -iname “*.service” 1&gt;services.txt 2&gt;&amp;1<br>1 从一开始就指向 services.txt，因此任何弹出到 2 的内容都会导向到 1 ，而 1 已经指向最终去的位置 services.txt，这就是它工作的原因。</p>
<p>在任何情况下，如上所述 &amp;&gt; 都是“标准输出和标准错误”的缩写，即 2&gt;&amp;1。</p>
<h2 id="shell函数返回字符串参数"><a href="#shell函数返回字符串参数" class="headerlink" title="shell函数返回字符串参数"></a>shell函数返回字符串参数</h2><p><a href="https://roc-wong.github.io/blog/2017/03/shell-%E5%87%BD%E6%95%B0%E8%BF%94%E5%9B%9E%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%9A%84%E6%96%B9%E6%B3%95.html">参考博客</a></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash"><span class="keyword">function</span> 关键字可以省略，<span class="built_in">return</span> value只能是整数，代表返回状态</span></span><br><span class="line">function function_name () &#123;</span><br><span class="line">    list of commands</span><br><span class="line">    [ return value ]</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">赋值方式</span></span><br><span class="line">function fun1()&#123;</span><br><span class="line">    res=`cmd xxxx`</span><br><span class="line">    echo $res</span><br><span class="line">&#125;</span><br><span class="line">res=`fun1`</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">传参赋值方式</span></span><br><span class="line">function fun2()&#123;</span><br><span class="line">    tmp=`res`</span><br><span class="line">    eval &quot;$1=$res&quot;</span><br><span class="line">&#125;</span><br><span class="line">res=&quot;&quot;</span><br><span class="line">fun2 $res</span><br><span class="line">echo $res</span><br></pre></td></tr></table></figure>
<div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:center"></th>
<th>variable</th>
<th>含义</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">$0</td>
<td>脚本本身的名字；</td>
</tr>
<tr>
<td style="text-align:center">$#</td>
<td>传给脚本的参数个数；</td>
</tr>
<tr>
<td style="text-align:center">$@</td>
<td>传给脚本的所有参数的列表，即被扩展为”$1” “$2” “$3”等；</td>
</tr>
<tr>
<td style="text-align:center">$*</td>
<td>以一个单字符串显示所有向脚本传递的参数，与位置变量不同，参数可超过9个即被扩展成”$1c$2c$3”，其中c是IFS的第一个字符；</td>
</tr>
<tr>
<td style="text-align:center">$$</td>
<td>是脚本运行的当前进程ID号；</td>
</tr>
<tr>
<td style="text-align:center">$?</td>
<td>是显示最后命令的退出状态，0表示没有错误，其他表示有错误；</td>
</tr>
<tr>
<td style="text-align:center">$n</td>
<td>获取参数的值，$1表示第一个参数，当n&gt;=10时，需要使用${n}来获取参数。</td>
</tr>
</tbody>
</table>
</div>
<h2 id="Shell-中-”-的区别"><a href="#Shell-中-”-的区别" class="headerlink" title="Shell 中 $(())”, $(), ``, ${} 的区别"></a>Shell 中 $(())”, $(), ``, ${} 的区别</h2><p>$()和``类似，对当中的表达式计算得出结果,<br>$(()) 计算数学表达式<br>参考：<a href="https://www.cnblogs.com/chengd/p/7803664.html">https://www.cnblogs.com/chengd/p/7803664.html</a><br>注意</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">file.txt</span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">hello world</span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">this is a <span class="built_in">test</span> file</span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">下面这种<span class="keyword">for</span>循环结果并不是按行显示，其实未按字符显示，主要原因是`<span class="built_in">cat</span> xxx`命令的到的结果是<span class="string">&quot;hello&#123;space&#125;world&#123;\n&#125;this&#123;sapce&#125;is……</span></span></span><br><span class="line">for line in `cat file.txt`</span><br><span class="line">do </span><br><span class="line">echo $line</span><br><span class="line">done;</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"><span class="string">正确应该用如下方式</span></span></span><br><span class="line">while read line</span><br><span class="line">do</span><br><span class="line">echo $line</span><br><span class="line">done &lt; file.txt</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h2 id="多个命令先后执行"><a href="#多个命令先后执行" class="headerlink" title="多个命令先后执行"></a>多个命令先后执行</h2><p>[在命令行中同时输入多个语句][3]：<br>直接在linux命令行中可以依次执行多个命令，多个命令间可采用“;”、“&amp;&amp;”和”||”分割，三个分隔符作用不同：<br>（1）;分割符：前后命令间没有必然的联系，前一个执行结束后、再执行第二个，没有逻辑关联；<br>（2）&amp;&amp;分隔符：前后命令有逻辑关联，后面的命令是否执行取决于前面的命令是否执行成功，前者执行成功，才会执行后面的命令。<br>（3）||分隔符：前后命令有逻辑关联，与&amp;&amp;相反，前面的命令执行失败后才能执行后面的命令。</p>
<p>  [3]: <a href="https://blog.csdn.net/cooperdoctor/article/details/84333686">https://blog.csdn.net/cooperdoctor/article/details/84333686</a>“</p>
<h2 id="selenium"><a href="#selenium" class="headerlink" title="selenium"></a>selenium</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> selenium <span class="keyword">import</span> webdriver</span><br><span class="line"><span class="keyword">import</span> selenium</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">auto_check</span>():</span><br><span class="line"> </span><br><span class="line"> driverOptions = webdriver.ChromeOptions()</span><br><span class="line"> driverOptions.add_argument(<span class="string">r&quot;user-data-dir=C:\Users\yuanwenwu3\AppData\Local\Google\Chrome\User Data&quot;</span>)</span><br><span class="line"> driverOptions.add_argument(<span class="string">&quot;--log-level=3&quot;</span>)</span><br><span class="line"> driver = webdriver.Chrome(<span class="string">&quot;chromedriver&quot;</span>,<span class="number">0</span>,driverOptions)</span><br><span class="line"> </span><br><span class="line"> <span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string"> ProfilesIni allProfiles = new ProfilesIni();</span></span><br><span class="line"><span class="string">    FirefoxProfile profile = allProfiles.getProfile(&quot;default&quot;); </span></span><br><span class="line"><span class="string">    WebDriever driver  = new FirefoxDriver(profile)</span></span><br><span class="line"><span class="string"> &#x27;&#x27;&#x27;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"> <span class="comment">#driver.get(&quot;http://erp.jd.com/portal/navMenu/subPage?menuId=50570&quot;)</span></span><br><span class="line"></span><br><span class="line"> <span class="comment">#driver.find_element_by_css_selector(&quot;#subDiv &gt; div.aside &gt; div.jquery-accordion-menu.jdskin &gt; div &gt; ul &gt; li:nth-child(5) &gt; a&quot;).click()</span></span><br><span class="line"></span><br><span class="line"> driver.get(<span class="string">&quot;http://kaoqin.jd.com/&quot;</span>)</span><br><span class="line"></span><br><span class="line"> time.sleep(<span class="number">3</span>)</span><br><span class="line"></span><br><span class="line"> <span class="keyword">try</span>:</span><br><span class="line">  driver.find_element_by_css_selector(<span class="string">&quot;body &gt; div &gt; div &gt; div &gt; div.login_pop_inner.login_withpc.eye-protector-processed &gt; form &gt; div.login_form_row.formsubmit &gt; input&quot;</span>).click()</span><br><span class="line">  driver.find_element_by_css_selector(<span class="string">&quot;#clockIn&quot;</span>).click()</span><br><span class="line"> <span class="keyword">except</span> selenium.common.exceptions.NoSuchElementException <span class="keyword">as</span> e:</span><br><span class="line">  driver.find_element_by_css_selector(<span class="string">&quot;#clockIn&quot;</span>).click()</span><br><span class="line"></span><br><span class="line"> time.sleep(<span class="number">3</span>) </span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line"> auto_check()</span><br><span class="line"></span><br></pre></td></tr></table></figure>

    </div>

    
    
    

      <footer class="post-footer">

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/2024/02/29/linear-algebra/" rel="prev" title="linear-algebra">
      <i class="fa fa-chevron-left"></i> linear-algebra
    </a></div>
      <div class="post-nav-item">
    <a href="/2024/02/29/matplotlib/" rel="next" title="matplotlib">
      matplotlib <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%95%B0%E7%BB%84"><span class="nav-number">1.</span> <span class="nav-text">数组</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%B0%86command%E7%BB%93%E6%9E%9C%E5%AD%98%E5%85%A5%E6%95%B0%E7%BB%84-%E4%B8%8D%E5%8F%97%E7%A9%BA%E6%A0%BC%E5%BD%B1%E5%93%8D"><span class="nav-number">1.1.</span> <span class="nav-text">将command结果存入数组(不受空格影响)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-With-Bash%E2%89%A54-use-mapfile%E2%80%94it%E2%80%99s-the-most-efficient"><span class="nav-number">1.2.</span> <span class="nav-text">1. With Bash≥4 use mapfile—it’s the most efficient</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-Otherwise-a-loop-reading-the-output-slower-but-safe"><span class="nav-number">1.3.</span> <span class="nav-text">2. Otherwise, a loop reading the output (slower, but safe)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-As-suggested-by-Charles-Duffy-in-the-comments-thanks-the-following-might-perform-better-than-the-loop-method-in-number-2"><span class="nav-number">1.4.</span> <span class="nav-text">3. As suggested by Charles Duffy in the comments (thanks!), the following might perform better than the loop method in number 2</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#set%E5%91%BD%E4%BB%A4"><span class="nav-number">1.5.</span> <span class="nav-text">set命令</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%8F%82%E6%95%B0%E5%88%A4%E7%A9%BA"><span class="nav-number">2.</span> <span class="nav-text">参数判空</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%8F%82%E6%95%B0%E6%95%B0%E9%87%8F%E6%A0%A1%E9%AA%8C"><span class="nav-number">3.</span> <span class="nav-text">参数数量校验</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%BE%AA%E7%8E%AF%E6%97%A5%E6%9C%9F"><span class="nav-number">4.</span> <span class="nav-text">循环日期</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%88%86%E5%89%B2%E6%96%87%E4%BB%B6"><span class="nav-number">5.</span> <span class="nav-text">分割文件</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Split%E6%96%87%E4%BB%B6"><span class="nav-number">5.1.</span> <span class="nav-text">Split文件</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Merg%E6%96%87%E4%BB%B6"><span class="nav-number">5.2.</span> <span class="nav-text">Merg文件</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%BB%9F%E8%AE%A1%E7%94%A8%E6%88%B7%E5%AD%98%E5%82%A8%E5%8D%A0%E7%94%A8%E6%83%85%E5%86%B5-sort"><span class="nav-number">6.</span> <span class="nav-text">统计用户存储占用情况(sort)</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%AD%97%E7%AC%A6%E5%A4%84%E7%90%86"><span class="nav-number">7.</span> <span class="nav-text">字符处理</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%BB%9F%E8%AE%A1%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%8D%95%E8%AF%8D%E4%B8%AA%E6%95%B0"><span class="nav-number">7.1.</span> <span class="nav-text">统计字符串单词个数</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%8F%90%E5%8F%96%E6%95%B0%E5%AD%97"><span class="nav-number">7.2.</span> <span class="nav-text">提取数字</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%89%93%E5%8D%B0%E4%BF%A1%E6%81%AF"><span class="nav-number">7.3.</span> <span class="nav-text">打印信息</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%89%93%E5%8D%B0%E4%B8%80%E6%9D%A1%E7%BA%BF"><span class="nav-number">7.3.1.</span> <span class="nav-text">打印一条线</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%80%89%E5%AE%9A%E6%9F%90%E5%87%A0%E8%A1%8C"><span class="nav-number">7.4.</span> <span class="nav-text">选定某几行</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#linux-sort-uniq-cut-wc%E5%91%BD%E4%BB%A4%E8%AF%A6%E8%A7%A3"><span class="nav-number">7.5.</span> <span class="nav-text">linux sort,uniq,cut,wc命令详解</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#cut"><span class="nav-number">7.5.1.</span> <span class="nav-text">cut</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#sort"><span class="nav-number">7.5.2.</span> <span class="nav-text">sort</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E5%A4%84%E7%90%86tab%E9%94%AE%E5%88%86%E9%9A%94%E7%AC%A6"><span class="nav-number">7.5.2.1.</span> <span class="nav-text">处理tab键分隔符</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#sort-%E6%8E%92%E5%88%97%E6%97%A5%E6%9C%9F%E5%AD%97%E7%AC%A6%E4%B8%B2"><span class="nav-number">7.5.2.2.</span> <span class="nav-text">sort 排列日期字符串</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#sort-MAC-OS%E6%8D%A2%E8%A1%8C%E7%AC%A6%E4%B8%8D%E8%B5%B7%E4%BD%9C%E7%94%A8"><span class="nav-number">7.5.2.3.</span> <span class="nav-text">sort MAC OS换行符不起作用</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#sort-%E5%A4%84%E7%90%86%E8%B4%9F%E6%95%B0"><span class="nav-number">7.5.2.4.</span> <span class="nav-text">sort 处理负数</span></a></li></ol></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#xarg"><span class="nav-number">7.6.</span> <span class="nav-text">xarg</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%BB%8E%E4%B8%80%E7%B3%BB%E5%88%97%E6%97%A5%E5%BF%97%E6%96%87%E4%BB%B6%E4%B8%AD%E6%8F%90%E5%8F%96%E7%9B%B8%E5%90%8C%E4%B8%80%E8%A1%8C%E5%86%85%E5%AE%B9"><span class="nav-number">7.6.1.</span> <span class="nav-text">从一系列日志文件中提取相同一行内容</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%9F%A5%E6%89%BE%E6%96%87%E4%BB%B6%E5%90%8D"><span class="nav-number">7.7.</span> <span class="nav-text">查找文件名</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Find"><span class="nav-number">7.7.1.</span> <span class="nav-text">Find</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#locate"><span class="nav-number">7.7.2.</span> <span class="nav-text">locate</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%A3%80%E7%B4%A2%E5%85%B3%E9%94%AE%E5%AD%97"><span class="nav-number">7.8.</span> <span class="nav-text">检索关键字</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%AF%94%E8%BE%83%E4%B8%A4%E4%B8%AA%E6%96%87%E4%BB%B6%E5%A4%B9%E5%86%85%E5%AE%B9"><span class="nav-number">7.9.</span> <span class="nav-text">比较两个文件夹内容</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%96%87%E4%BB%B6%E5%90%8D%E7%A7%B0%E6%9B%BF%E6%8D%A2"><span class="nav-number">7.10.</span> <span class="nav-text">文件名称替换</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%88%A0%E9%99%A4%E6%8C%87%E5%AE%9A%E9%83%A8%E5%88%86"><span class="nav-number">7.11.</span> <span class="nav-text">字符串删除指定部分</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1-%E2%80%9D-%E2%80%9C%E5%8F%B7%E7%9A%84%E4%BD%BF%E7%94%A8"><span class="nav-number">7.11.1.</span> <span class="nav-text">1.”#“号的使用</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%95%B0%E5%80%BC%E8%AE%A1%E7%AE%97%E4%B8%8E%E5%88%A4%E6%96%AD"><span class="nav-number">7.12.</span> <span class="nav-text">数值计算与判断</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#2-%E2%80%9D-%E2%80%9D%E5%8F%B7%E7%9A%84%E4%BD%BF%E7%94%A8"><span class="nav-number">7.12.1.</span> <span class="nav-text">2.”%”号的使用</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3-%E5%88%A0%E9%99%A4%E4%B8%AD%E9%97%B4%E5%8C%B9%E9%85%8D%E7%9A%84%E5%AD%97%E7%AC%A6%E4%B8%B2"><span class="nav-number">7.12.2.</span> <span class="nav-text">3.删除中间匹配的字符串</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#sed"><span class="nav-number">7.13.</span> <span class="nav-text">sed</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%85%88%E6%A3%80%E7%B4%A2%E6%8C%87%E5%AE%9A%E4%BD%8D%E7%BD%AE%EF%BC%8C%E7%84%B6%E5%90%8E%E6%9B%BF%E6%8D%A2%EF%BC%88%E9%9D%9E%E5%85%A8%E5%B1%80%E6%9B%BF%E6%8D%A2%EF%BC%89"><span class="nav-number">7.13.1.</span> <span class="nav-text">先检索指定位置，然后替换（非全局替换）</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%8C%B9%E9%85%8D%E5%B9%B6%E9%80%89%E6%8B%A9%E9%83%A8%E5%88%86%E6%9B%BF%E6%8D%A2"><span class="nav-number">7.13.2.</span> <span class="nav-text">匹配并选择部分替换</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%B8%A6%E5%8F%98%E9%87%8F%E7%9A%84%E6%9B%BF%E6%8D%A2"><span class="nav-number">7.13.3.</span> <span class="nav-text">带变量的替换</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%B8%80%E8%88%AC%E7%94%A8%E6%B3%95"><span class="nav-number">7.13.4.</span> <span class="nav-text">一般用法</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%88%A0%E9%99%A4%EF%BC%9Ad%E5%91%BD%E4%BB%A4"><span class="nav-number">7.13.5.</span> <span class="nav-text">删除：d命令</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#vim-amp-vi"><span class="nav-number">8.</span> <span class="nav-text">vim &amp; vi</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%87%AA%E5%B7%B1%E4%BD%BF%E7%94%A8%E7%9A%84%E7%AE%80%E5%8D%95%E9%85%8D%E7%BD%AEtemplate"><span class="nav-number">8.1.</span> <span class="nav-text">自己使用的简单配置template</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%A4%9A%E5%8A%9F%E8%83%BDtemplete"><span class="nav-number">8.2.</span> <span class="nav-text">多功能templete</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Vimdiff"><span class="nav-number">8.3.</span> <span class="nav-text">Vimdiff</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#vi%E8%AF%AD%E6%B3%95%E9%AB%98%E4%BA%AEshell%E8%84%9A%E6%9C%AC"><span class="nav-number">8.4.</span> <span class="nav-text">vi语法高亮shell脚本</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#vim-amp-vi-%E9%85%8D%E7%BD%AE"><span class="nav-number">8.5.</span> <span class="nav-text">vim &amp; vi 配置</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%9F%A5%E6%89%BE"><span class="nav-number">8.6.</span> <span class="nav-text">查找</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%85%A8%E9%83%A8%E6%9B%BF%E6%8D%A2"><span class="nav-number">8.7.</span> <span class="nav-text">全部替换</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#cursor%E9%A2%9C%E8%89%B2"><span class="nav-number">8.8.</span> <span class="nav-text">cursor颜色</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%A9%BA%E6%A0%BC%E6%9B%BF%E6%8D%A2tab"><span class="nav-number">8.9.</span> <span class="nav-text">空格替换tab</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%90%8E%E5%8F%B0%E8%BF%90%E8%A1%8C"><span class="nav-number">9.</span> <span class="nav-text">后台运行</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#nohup"><span class="nav-number">9.1.</span> <span class="nav-text">nohup</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#nohup%E5%92%8C-amp-%E7%9A%84%E5%8C%BA%E5%88%AB"><span class="nav-number">9.2.</span> <span class="nav-text">nohup和 &amp; 的区别</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%8E%B7%E5%BE%97nohup%E5%90%8E%E5%8F%B0%E8%BF%90%E8%A1%8C%E8%BF%9B%E7%A8%8B%E7%9A%84PID"><span class="nav-number">9.3.</span> <span class="nav-text">获得nohup后台运行进程的PID</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-gt-amp-1%E8%A7%A3%E6%9E%90"><span class="nav-number">9.4.</span> <span class="nav-text">2&gt;&amp;1解析</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%9F%A5%E7%9C%8B%E5%90%8E%E5%8F%B0%E4%BB%BB%E5%8A%A1%E6%88%96%E8%BF%9B%E7%A8%8B"><span class="nav-number">9.5.</span> <span class="nav-text">查看后台任务或进程</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#wait-%E5%91%BD%E4%BB%A4-%E8%8E%B7%E5%8F%96%E4%B8%8A%E4%B8%80%E4%B8%AA%E5%90%8E%E5%8F%B0%E8%BF%9B%E7%A8%8B%E7%9A%84%E8%BF%9B%E7%A8%8B%E5%8F%B7%E4%BB%A5%E5%8F%8A%E7%8A%B6%E6%80%81"><span class="nav-number">9.6.</span> <span class="nav-text">wait 命令+获取上一个后台进程的进程号以及状态</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#disown"><span class="nav-number">9.7.</span> <span class="nav-text">disown</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#screen"><span class="nav-number">9.8.</span> <span class="nav-text">screen</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#TOP-%E5%91%BD%E4%BB%A4"><span class="nav-number">10.</span> <span class="nav-text">TOP 命令</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%89%B9%E9%87%8F%E4%B8%8B%E8%BD%BD%E5%9B%BE%E7%89%87"><span class="nav-number">11.</span> <span class="nav-text">批量下载图片</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E9%9A%8F%E6%9C%BA%E6%95%B0"><span class="nav-number">12.</span> <span class="nav-text">随机数</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%9A%8F%E6%9C%BA%E7%AD%9B%E9%80%89%E6%95%B0%E6%8D%AE"><span class="nav-number">12.1.</span> <span class="nav-text">随机筛选数据</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%88%A4%E6%96%AD%E6%96%87%E4%BB%B6%E6%98%AF%E5%90%A6%E5%AD%98%E5%9C%A8"><span class="nav-number">13.</span> <span class="nav-text">判断文件是否存在</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-%E6%96%87%E4%BB%B6%E5%A4%B9%E4%B8%8D%E5%AD%98%E5%9C%A8%E5%88%99%E5%88%9B%E5%BB%BA"><span class="nav-number">13.1.</span> <span class="nav-text">1.文件夹不存在则创建</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-%E6%96%87%E4%BB%B6%E5%AD%98%E5%9C%A8%E5%88%99%E5%88%A0%E9%99%A4"><span class="nav-number">13.2.</span> <span class="nav-text">2.文件存在则删除</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-%E5%88%A4%E6%96%AD%E6%96%87%E4%BB%B6%E5%A4%B9%E6%98%AF%E5%90%A6%E5%AD%98%E5%9C%A8"><span class="nav-number">13.3.</span> <span class="nav-text">3.判断文件夹是否存在</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-%E5%88%A4%E6%96%AD%E6%96%87%E4%BB%B6%E6%98%AF%E5%90%A6%E5%AD%98%E5%9C%A8"><span class="nav-number">13.4.</span> <span class="nav-text">4.判断文件是否存在</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%97%A5%E6%9C%9F%E5%A4%84%E7%90%86"><span class="nav-number">14.</span> <span class="nav-text">日期处理</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%9D%A1%E4%BB%B6%E8%AF%AD%E5%8F%A5-if-while%EF%BC%89"><span class="nav-number">15.</span> <span class="nav-text">条件语句(if,while）</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#if-%E6%9D%A1%E4%BB%B6%E5%88%A4%E6%96%AD%E5%A4%A7%E6%8B%AC%E5%8F%B7%EF%BC%8C%E4%B8%AD%E6%8B%AC%E5%8F%B7%EF%BC%8C%E5%9C%86%E6%8B%AC%E5%8F%B7"><span class="nav-number">15.1.</span> <span class="nav-text">if 条件判断大括号，中括号，圆括号</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%88%A4%E6%96%AD%E6%96%87%E4%BB%B6%E3%80%81%E6%96%87%E4%BB%B6%E5%A4%B9%E6%98%AF%E5%90%A6%E5%AD%98%E5%9C%A8"><span class="nav-number">15.2.</span> <span class="nav-text">判断文件、文件夹是否存在</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%88%A4%E6%96%AD%E5%8F%98%E9%87%8F%E6%98%AF%E5%90%A6%E4%B8%BA%E7%A9%BA"><span class="nav-number">15.3.</span> <span class="nav-text">判断变量是否为空</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%A3%80%E7%B4%A2"><span class="nav-number">16.</span> <span class="nav-text">检索</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%9F%A5%E6%89%BE%E6%96%87%E4%BB%B6"><span class="nav-number">16.1.</span> <span class="nav-text">查找文件</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E9%87%8D%E5%AE%9A%E5%90%91%E4%B8%8E%E6%96%87%E4%BB%B6%E6%93%8D%E4%BD%9C%E7%AC%A6"><span class="nav-number">17.</span> <span class="nav-text">重定向与文件操作符</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#shell%E5%87%BD%E6%95%B0%E8%BF%94%E5%9B%9E%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%8F%82%E6%95%B0"><span class="nav-number">18.</span> <span class="nav-text">shell函数返回字符串参数</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Shell-%E4%B8%AD-%E2%80%9D-%E7%9A%84%E5%8C%BA%E5%88%AB"><span class="nav-number">19.</span> <span class="nav-text">Shell 中 $(())”, $(), &#96;&#96;, ${} 的区别</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%A4%9A%E4%B8%AA%E5%91%BD%E4%BB%A4%E5%85%88%E5%90%8E%E6%89%A7%E8%A1%8C"><span class="nav-number">20.</span> <span class="nav-text">多个命令先后执行</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#selenium"><span class="nav-number">21.</span> <span class="nav-text">selenium</span></a></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">John Doe</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">45</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
        <span class="site-state-item-count">9</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
        <span class="site-state-item-count">23</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2025</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">John Doe</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://muse.theme-next.org" class="theme-link" rel="noopener" target="_blank">NexT.Muse</a>
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/muse.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  
      

<script>
  if (typeof MathJax === 'undefined') {
    window.MathJax = {
      loader: {
          load: ['[tex]/mhchem'],
        source: {
          '[tex]/amsCd': '[tex]/amscd',
          '[tex]/AMScd': '[tex]/amscd'
        }
      },
      tex: {
        inlineMath: {'[+]': [['$', '$']]},
          packages: {'[+]': ['mhchem']},
        tags: 'ams'
      },
      options: {
        renderActions: {
          findScript: [10, doc => {
            document.querySelectorAll('script[type^="math/tex"]').forEach(node => {
              const display = !!node.type.match(/; *mode=display/);
              const math = new doc.options.MathItem(node.textContent, doc.inputJax[0], display);
              const text = document.createTextNode('');
              node.parentNode.replaceChild(text, node);
              math.start = {node: text, delim: '', n: 0};
              math.end = {node: text, delim: '', n: 0};
              doc.math.push(math);
            });
          }, '', false],
          insertedScript: [200, () => {
            document.querySelectorAll('mjx-container').forEach(node => {
              let target = node.parentNode;
              if (target.nodeName.toLowerCase() === 'li') {
                target.parentNode.classList.add('has-jax');
              }
            });
          }, '', false]
        }
      }
    };
    (function () {
      var script = document.createElement('script');
      script.src = '//cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js';
      script.defer = true;
      document.head.appendChild(script);
    })();
  } else {
    MathJax.startup.document.state(0);
    MathJax.texReset();
    MathJax.typeset();
  }
</script>

    

  

</body>
</html>
