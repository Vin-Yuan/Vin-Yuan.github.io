<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 7.1.1">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"yoursite.com","root":"/","scheme":"Muse","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta property="og:type" content="website">
<meta property="og:title" content="Vin&#39;s Blog">
<meta property="og:url" content="http://yoursite.com/index.html">
<meta property="og:site_name" content="Vin&#39;s Blog">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="John Doe">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="http://yoursite.com/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'en'
  };
</script>

  <title>Vin's Blog</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

<!-- hexo injector head_end start -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css">

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/hexo-math@4.0.0/dist/style.css">
<!-- hexo injector head_end end --><link rel="alternate" href="/atom.xml" title="Vin's Blog" type="application/atom+xml">
</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">Vin's Blog</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content index posts-expand">
            
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2025/05/21/GPT/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="John Doe">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Vin's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2025/05/21/GPT/" class="post-title-link" itemprop="url">GPT</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2025-05-21 12:02:14 / Modified: 12:03:07" itemprop="dateCreated datePublished" datetime="2025-05-21T12:02:14+08:00">2025-05-21</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/LLM/" itemprop="url" rel="index"><span itemprop="name">LLM</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">BigramLanguageModel</span>(nn.Module):</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, vocab_size</span>):</span><br><span class="line">        <span class="built_in">super</span>().__init__()</span><br><span class="line">        <span class="comment"># each token directly reads off the logits for the next token from a lookup table</span></span><br><span class="line">        self.token_embedding_table = nn.Embedding(vocab_size, vocab_size)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">forward</span>(<span class="params">self, idx, targets=<span class="literal">None</span></span>):</span><br><span class="line"></span><br><span class="line">        <span class="comment"># idx and targets are both (B,T) tensor of integers</span></span><br><span class="line">        logits = self.token_embedding_table(idx) <span class="comment"># (B,T,C)</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> targets <span class="keyword">is</span> <span class="literal">None</span>:</span><br><span class="line">            loss = <span class="literal">None</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            B, T, C = logits.shape</span><br><span class="line">            logits = logits.view(B*T, C)</span><br><span class="line">            targets = targets.view(B*T)</span><br><span class="line">            loss = F.cross_entropy(logits, targets)</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> logits, loss</span><br><span class="line"></span><br><span class="line">m = BigramLanguageModel(vocab_size)</span><br><span class="line">logits, loss = m(xb, yb)</span><br><span class="line"><span class="built_in">print</span>(logits.shape)</span><br><span class="line"><span class="built_in">print</span>(loss)</span><br><span class="line"></span><br><span class="line"><span class="comment"># output</span></span><br><span class="line">torch.Size([<span class="number">32</span>, <span class="number">65</span>])</span><br><span class="line">tensor(<span class="number">4.8786</span>, grad_fn=&lt;NllLossBackward0&gt;)</span><br></pre></td></tr></table></figure>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2025/05/19/Normlization/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="John Doe">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Vin's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2025/05/19/Normlization/" class="post-title-link" itemprop="url">Normlization</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2025-05-19 12:05:44" itemprop="dateCreated datePublished" datetime="2025-05-19T12:05:44+08:00">2025-05-19</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2025-05-20 21:53:18" itemprop="dateModified" datetime="2025-05-20T21:53:18+08:00">2025-05-20</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>验证LayerNorm的，通过使用torch.mean和torch.var复现的时候发现不一致<br>LayerNorm默认使用的是bias的整体方差, divided by N<br>torch.var默认使用的是无bias的样本方差, devided by N-1</p>
<p>对于每一个样本的特征向量 $x \in \mathbb{R}^d$ ，LayerNorm 执行以下操作：</p>
<script type="math/tex; mode=display">
\operatorname{LayerNorm}(x)=\gamma \cdot \frac{x-\mu}{\sqrt{\sigma^2+\epsilon}}+\beta</script><ul>
<li>$\mu, \sigma^2$ ：当前样本的均值和方差（仅用于归一化）</li>
<li>$\gamma$ ：可学习的缩放参数（scale，类似于权重）</li>
<li>$\beta$ ：可学习的偏移参数（bias，偏置）</li>
</ul>
<p><a href="https://docs.pytorch.org/docs/stable/generated/torch.nn.LayerNorm.html"><img src="https://docs.pytorch.org/docs/stable/_images/layer_norm.jpg" alt="LayerNomr"></a></p>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/2025/05/19/Normlization/#more" rel="contents">
                Read more &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2025/02/19/Pytorch/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="John Doe">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Vin's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2025/02/19/Pytorch/" class="post-title-link" itemprop="url">Pytorch常用例子</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2025-02-19 18:34:58" itemprop="dateCreated datePublished" datetime="2025-02-19T18:34:58+08:00">2025-02-19</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2025-05-20 21:44:32" itemprop="dateModified" datetime="2025-05-20T21:44:32+08:00">2025-05-20</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="1-构造数据"><a href="#1-构造数据" class="headerlink" title="1. 构造数据"></a>1. 构造数据</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> torch</span><br><span class="line"></span><br><span class="line"><span class="comment"># 1. 全 0 / 全 1 / 常数</span></span><br><span class="line">torch.zeros(<span class="number">3</span>, <span class="number">4</span>)           <span class="comment"># shape=(3, 4)</span></span><br><span class="line">torch.ones(<span class="number">2</span>, <span class="number">3</span>)</span><br><span class="line">torch.full((<span class="number">2</span>, <span class="number">2</span>), <span class="number">7.0</span>)</span><br><span class="line">x = torch.randn(<span class="number">10</span>,<span class="number">8</span>,<span class="number">4</span>)</span><br><span class="line">y = torch.ones_like(x)   <span class="comment"># 复制shape</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 2. 随机数据</span></span><br><span class="line">torch.randn(<span class="number">5</span>, <span class="number">10</span>)          <span class="comment"># 标准正态分布 N(0,1)</span></span><br><span class="line">torch.rand(<span class="number">3</span>, <span class="number">3</span>)            <span class="comment"># 均匀分布 [0, 1)</span></span><br><span class="line">torch.randint(<span class="number">0</span>, <span class="number">10</span>, (<span class="number">2</span>, <span class="number">4</span>)) <span class="comment"># 整数随机数</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 3. 类似 numpy 的方式</span></span><br><span class="line">torch.arange(<span class="number">0</span>, <span class="number">10</span>, <span class="number">2</span>)      <span class="comment"># [0, 2, 4, 6, 8]</span></span><br><span class="line">torch.linspace(<span class="number">0</span>, <span class="number">1</span>, <span class="number">5</span>)     <span class="comment"># [0., 0.25, 0.5, 0.75, 1.]</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 4. 从 numpy 转换</span></span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line">torch.from_numpy(np.array([[<span class="number">1</span>, <span class="number">2</span>], [<span class="number">3</span>, <span class="number">4</span>]]))</span><br></pre></td></tr></table></figure>
<h2 id="2-常用输入数据"><a href="#2-常用输入数据" class="headerlink" title="2. 常用输入数据"></a>2. 常用输入数据</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 假数据：10 张 RGB 图片（3 通道，32x32），每张图一个标签</span></span><br><span class="line">x = torch.randn(<span class="number">10</span>, <span class="number">3</span>, <span class="number">32</span>, <span class="number">32</span>)     <span class="comment"># 图像张量</span></span><br><span class="line">y = torch.randint(<span class="number">0</span>, <span class="number">5</span>, (<span class="number">10</span>,))     <span class="comment"># 标签：5 类分类任务</span></span><br></pre></td></tr></table></figure>
<h2 id="3-向量化操作"><a href="#3-向量化操作" class="headerlink" title="3. 向量化操作"></a>3. 向量化操作</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">a = torch.randn(<span class="number">3</span>, <span class="number">4</span>)</span><br><span class="line">b = torch.randn(<span class="number">4</span>, <span class="number">5</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 1. 矩阵乘法</span></span><br><span class="line">out = a @ b                    <span class="comment"># shape=(3,5)</span></span><br><span class="line">out = torch.matmul(a, b)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 2. 广播加法</span></span><br><span class="line">x = torch.randn(<span class="number">10</span>, <span class="number">5</span>)      <span class="comment"># 广播机制，自动扩展</span></span><br><span class="line">bias = torch.randn(<span class="number">5</span>)</span><br><span class="line">x = x + bias                  </span><br><span class="line">x = torch.arange(<span class="number">0</span>, <span class="number">10</span>, <span class="number">1</span>).reshape(<span class="number">2</span>, <span class="number">5</span>) </span><br><span class="line">bias = torch.tensor(<span class="number">1.0</span>)    <span class="comment"># 广播机制，scalar 自动扩展</span></span><br><span class="line">y = x + bias</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 3. 拼接</span></span><br><span class="line">torch.cat([a, a], dim=<span class="number">0</span>)      <span class="comment"># 拼接行</span></span><br><span class="line">torch.cat([a, a], dim=<span class="number">1</span>)      <span class="comment"># 拼接列</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 4. reshape &amp; transpose</span></span><br><span class="line">x = torch.randn(<span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>)</span><br><span class="line">x.view(<span class="number">6</span>, <span class="number">4</span>)                  <span class="comment"># 改形状</span></span><br><span class="line">x.permute(<span class="number">1</span>, <span class="number">0</span>, <span class="number">2</span>)            <span class="comment"># 交换维度</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 5. 选择/掩码</span></span><br><span class="line">x = torch.randn(<span class="number">10</span>)</span><br><span class="line">mask = x &gt; <span class="number">0</span></span><br><span class="line">x[mask]                       <span class="comment"># 选出正数元素</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2024/11/08/integer-solutions/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="John Doe">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Vin's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2024/11/08/integer-solutions/" class="post-title-link" itemprop="url">integer solutions</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2024-11-08 16:57:53" itemprop="dateCreated datePublished" datetime="2024-11-08T16:57:53+08:00">2024-11-08</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2025-05-19 21:38:29" itemprop="dateModified" datetime="2025-05-19T21:38:29+08:00">2025-05-19</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/math/" itemprop="url" rel="index"><span itemprop="name">math</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>linear regession 或者mpl 会涉及到weight decay, 提及整数解的问题：<br>k个变量，d阶的项一共有多少种？</p>
<p>问题描述<br>我们有 $ k $ 个变量 $ x_1, x_2, \ldots, x_k $，要求它们的和等于 $ d $，即：</p>
<p>$ x_1 + x_2 + \cdots + x_k = d $</p>
<h2 id="自然数解"><a href="#自然数解" class="headerlink" title="自然数解"></a>自然数解</h2><p>从 ( d - 1 ) 个位置中选择 ( k - 1 ) 个位置放置隔板，其余的位置放置星星。</p>
<p>这可以用组合数表示为：</p>
<p>$ \binom{d - 1}{k - 1} = \frac{(d - 1)!}{(k - 1)! \cdot (d - k)!} $</p>
<h2 id="非负整数解"><a href="#非负整数解" class="headerlink" title="非负整数解"></a>非负整数解</h2><p>在这个问题中，每个变量 $ x_i $ 可以取0。这意味着在分配过程中，某些变量可能不会获得任何单位。因此，为了表示这种情况，我们需要在星（单位）之间允许隔板（分隔符）彼此相邻，甚至位于首尾位置。这就增加了排列组合的灵活性。</p>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/2024/11/08/integer-solutions/#more" rel="contents">
                Read more &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2024/11/08/compare-csv-file/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="John Doe">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Vin's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2024/11/08/compare-csv-file/" class="post-title-link" itemprop="url">使用pandas 对比csv 文件</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2024-11-08 13:43:34" itemprop="dateCreated datePublished" datetime="2024-11-08T13:43:34+08:00">2024-11-08</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2025-05-19 21:38:29" itemprop="dateModified" datetime="2025-05-19T21:38:29+08:00">2025-05-19</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>通过pandas 的compare function， 可以对比两个csv 文件<br>用途，例如升级或修改code之后，输出是csv文本文件，对于同样input的数据，预期应该一样<br>input -&gt; program -&gt; output<br>input -&gt; program(optimize) -&gt; output_new<br>expect output == output_new</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"></span><br><span class="line"><span class="comment"># Sample data</span></span><br><span class="line">data_control = &#123;</span><br><span class="line">    <span class="string">&#x27;ProductEntityId&#x27;</span>: [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>],</span><br><span class="line">    <span class="string">&#x27;ColumnA&#x27;</span>: [<span class="number">10</span>, <span class="number">20</span>, <span class="number">30</span>, <span class="number">40</span>, <span class="number">50</span>],</span><br><span class="line">    <span class="string">&#x27;ColumnB&#x27;</span>: [<span class="string">&#x27;A&#x27;</span>, <span class="string">&#x27;B&#x27;</span>, <span class="string">&#x27;C&#x27;</span>, <span class="string">&#x27;D&#x27;</span>, <span class="string">&#x27;E&#x27;</span>]</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">data_treatment = &#123;</span><br><span class="line">    <span class="string">&#x27;ProductEntityId&#x27;</span>: [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>],</span><br><span class="line">    <span class="string">&#x27;ColumnA&#x27;</span>: [<span class="number">10</span>, <span class="number">25</span>, <span class="number">30</span>, <span class="number">40</span>],</span><br><span class="line">    <span class="string">&#x27;ColumnB&#x27;</span>: [<span class="string">&#x27;A&#x27;</span>, <span class="string">&#x27;X&#x27;</span>, <span class="string">&#x27;C&#x27;</span>, <span class="string">&#x27;D&#x27;</span>]</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">df_control = pd.DataFrame(data_control)</span><br><span class="line">df_treatment = pd.DataFrame(data_treatment)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Set ProductEntityId as the index</span></span><br><span class="line">df_control.set_index(<span class="string">&#x27;ProductEntityId&#x27;</span>, inplace=<span class="literal">True</span>)</span><br><span class="line">df_treatment.set_index(<span class="string">&#x27;ProductEntityId&#x27;</span>, inplace=<span class="literal">True</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Find the intersection of the indices</span></span><br><span class="line">common_indices = df_control.index.intersection(df_treatment.index)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Filter both dataframes to only include the common indices</span></span><br><span class="line">df_control_common = df_control.loc[common_indices]</span><br><span class="line">df_treatment_common = df_treatment.loc[common_indices]</span><br><span class="line"></span><br><span class="line"><span class="comment"># Ensure both dataframes have the same columns</span></span><br><span class="line">df_treatment_common = df_treatment_common[df_control_common.columns]</span><br><span class="line"></span><br><span class="line"><span class="comment"># Compare the dataframes</span></span><br><span class="line">comparison_df = df_control_common.compare(df_treatment_common, keep_shape=<span class="literal">True</span>, keep_equal=<span class="literal">True</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Highlight the differences</span></span><br><span class="line">first_level_columns = comparison_df.columns.get_level_values(<span class="number">0</span>).unique()</span><br><span class="line"><span class="keyword">def</span> <span class="title function_">highlight_differences</span>(<span class="params">row</span>):</span><br><span class="line">    styles = []</span><br><span class="line">    <span class="keyword">for</span> col <span class="keyword">in</span> comparison_df.columns.levels[<span class="number">0</span>]:</span><br><span class="line">        self_val = row[(col, <span class="string">&#x27;self&#x27;</span>)]</span><br><span class="line">        other_val = row[(col, <span class="string">&#x27;other&#x27;</span>)]</span><br><span class="line">        <span class="keyword">if</span> (~pd.isna(self_val) <span class="keyword">or</span> ~pd.isna(other_val)) &amp; (self_val != other_val):</span><br><span class="line">            styles.append(<span class="string">&#x27;background-color: yellow&#x27;</span>)</span><br><span class="line">            styles.append(<span class="string">&#x27;background-color: yellow&#x27;</span>)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            styles.append(<span class="string">&#x27;&#x27;</span>)</span><br><span class="line">            styles.append(<span class="string">&#x27;&#x27;</span>)</span><br><span class="line">    <span class="keyword">return</span> styles</span><br><span class="line">highlighted_df = comparison_df.style.apply(highlight_differences, axis=<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Display the highlighted dataframe</span></span><br><span class="line"><span class="comment"># highlighted_df</span></span><br><span class="line"><span class="comment"># write hightlighted dataframe to a file</span></span><br><span class="line">highlighted_df.to_excel(<span class="string">&quot;./highlighted_output.xlsx&quot;</span>, engine=<span class="string">&#x27;openpyxl&#x27;</span>, index=<span class="literal">True</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2024/06/04/raspberry/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="John Doe">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Vin's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2024/06/04/raspberry/" class="post-title-link" itemprop="url">raspberry</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2024-06-04 15:19:57" itemprop="dateCreated datePublished" datetime="2024-06-04T15:19:57+08:00">2024-06-04</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2025-05-19 21:38:29" itemprop="dateModified" datetime="2025-05-19T21:38:29+08:00">2025-05-19</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h2><p>64-bit镜像：<br><a href="https://downloads.raspberrypi.org/raspios_lite_arm64/images/raspios_lite_arm64-2021-05-28/">https://downloads.raspberrypi.org/raspios_lite_arm64/images/raspios_lite_arm64-2021-05-28/</a></p>
<h2 id="获取树莓派ip"><a href="#获取树莓派ip" class="headerlink" title="获取树莓派ip"></a>获取树莓派ip</h2><p>树莓派在接入路由器后是动态分配的，需要使用路由器的管理界面查看链接设备的MAC和ip地址<br>另外一种方式是扫描当前局域网的设备信息，比如可以使用IOS的Fing App去发现当前连接设备，一般树莓派的设备名称是Raspberry开头的</p>
<h2 id="挂载移动硬盘"><a href="#挂载移动硬盘" class="headerlink" title="挂载移动硬盘"></a>挂载移动硬盘</h2><p><a href="https://shumeipai.nxez.com/2013/09/08/raspberry-pi-to-mount-the-removable-hard-disk.html">https://shumeipai.nxez.com/2013/09/08/raspberry-pi-to-mount-the-removable-hard-disk.html</a></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo mount -o uid=pi,gid=pi /dev/sda1 /mnt/1GB_USB_flash</span><br></pre></td></tr></table></figure>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/2024/06/04/raspberry/#more" rel="contents">
                Read more &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2024/06/04/computer-version/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="John Doe">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Vin's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2024/06/04/computer-version/" class="post-title-link" itemprop="url">computer_version</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2024-06-04 15:18:59" itemprop="dateCreated datePublished" datetime="2024-06-04T15:18:59+08:00">2024-06-04</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2025-05-19 21:38:29" itemprop="dateModified" datetime="2025-05-19T21:38:29+08:00">2025-05-19</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="YOLO"><a href="#YOLO" class="headerlink" title="YOLO"></a>YOLO</h1><h2 id="1-YOLO-损失函数第二部分"><a href="#1-YOLO-损失函数第二部分" class="headerlink" title="1. YOLO 损失函数第二部分"></a>1. YOLO 损失函数第二部分</h2><p>对于width, height的loss, 作者在论文中说明使用square root的原因：</p>
<blockquote>
<p>Our error metric should reflect that small deviations in large boxes matter less than in small boxes. To partially address this we predict the square root of the bounding box width and height instead of the width and height directly.<br>经过实际计算演示如下：</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">width_height_loss</span>(<span class="params">w, h, error_shift=<span class="number">30</span></span>):</span><br><span class="line">    <span class="keyword">return</span> math.<span class="built_in">pow</span>((math.sqrt(w)-math.sqrt(w-erro_shift)),<span class="number">2</span>) + math.<span class="built_in">pow</span>((math.sqrt(h)-math.sqrt(h+erro_shift)),<span class="number">2</span>)</span><br><span class="line"><span class="built_in">print</span>(width_height_loss(<span class="number">300</span>,<span class="number">500</span>))</span><br><span class="line"><span class="built_in">print</span>(width_height_loss(<span class="number">100</span>,<span class="number">150</span>))</span><br><span class="line">&gt;&gt; <span class="number">1.22700707099</span></span><br><span class="line">&gt;&gt; <span class="number">4.03446019009</span></span><br></pre></td></tr></table></figure>
<p>可以发现如此设计后，确实能起到如其所说loss对小的bbox比较敏感，惩罚度较大，而对大bbbox则反之。<br>究其原因，需要画一下此函数的曲线：</p>
<script type="math/tex; mode=display">
f(x) = (\sqrt{x} -\sqrt{x-10})^2</script><p>从曲线可以直观的看到单调性<br>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/2024/06/04/computer-version/#more" rel="contents">
                Read more &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2024/06/04/photograpy/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="John Doe">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Vin's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2024/06/04/photograpy/" class="post-title-link" itemprop="url">photograpy</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2024-06-04 15:17:38" itemprop="dateCreated datePublished" datetime="2024-06-04T15:17:38+08:00">2024-06-04</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2025-05-19 21:38:29" itemprop="dateModified" datetime="2025-05-19T21:38:29+08:00">2025-05-19</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="Camera-Raw"><a href="#Camera-Raw" class="headerlink" title="Camera Raw"></a>Camera Raw</h2><p>Basic Panel中<br>对于每一个可调节的滑块：</p>
<ul>
<li>双击滑块可回复原始值</li>
<li>按住shift双击滑块可自动调整<br><a href="https://helpx.adobe.com/cn/camera-raw/using/make-color-tonal-adjustments-camera.html">参考</a></li>
</ul>
<blockquote>
<p>在自动调整色调时，Camera Raw 忽略以前在其它选项卡中进行的任何调整（如在“色调曲线”选项卡中对色调进行的微调）。因此，先应用自动色调调整（如果有）以获取图像最佳设置的初始近似值。如果在拍摄时很细心并有意使用不同的曝光度进行拍摄，您可能不希望应用自动色调调整以放弃所做的工作。另一方面，如果您不喜欢所做的调整，可随时尝试单击“自动”并撤消这些调整。<br>为什么白平衡下面需要设置色调补偿绿色好紫色（tint)</p>
</blockquote>
<p><a href="https://photo.stackexchange.com/questions/104920/why-does-white-balance-knob-have-green-and-purple-setting">查阅</a></p>
<blockquote>
<p>A daunting task, because humans see using an eye/brain combination that alters our visualization of the world. This mechanism is eye independent. Try this experiment. Procure some transparent color filters, cellophane (candy wrappers work nicely). Filter one eye only with a deep red filter. Keep the filter in place for about 2 minutes. Remove the filter and then peer about quickly looking with one eye, then the other. You will find that the filter eye has radically changed as to its color balance. That eye will see the world with a blue-green tint. Try this again with yellow or blue or green cellophane. Each filter rapidly alters the filtered eye color balance. This adaptive mechanism occurs every minute of every day, to both eyes. You will be witnessing the human ability to adapt and normalize when the ambient light is off-color.<br>With some minor exceptions (special color films) color photography had to wait till the advent of electronic imaging. Now we have “white balance”, a camera mechanism that attempts to mimic our ability to adapt to light source alterations.<br>Photography adopted color “temperature”. Scientist verified that blacksmiths, glazers, potters and other workers (smiths) were able to regulate the temperatures of the materials of their craft visually by color changes as the material is heated. Seems all materials glow with alike outputs as they are heated to incandescence.<br>Black red 426°C —- Dark red 593°C – Cherry red 815°C – Yellow 1093°C – White 1315°+ etc.<br>Now physicists prefer the Celsius scale and they respect an adaptation known as the Absolute Scale. This is the Celsius scale with zero set to -273°C. This is the rock-bottom temperature so starting zero at this value avoids the possibility of negative temperatures. The champion of Absolute scale was William Thomson, 1st Baron Kelvin. In his honor, the Absolute scale was renamed Kelvin scale. Color films and now digital imaging and light sources are typically categorized using the Kelvin scale.<br>Candle 1850K – Standard 60W tungsten lamp 2400K – Studio tungsten bulb 3200K — Daylight 5500K.<br>Images taken under various lighting conditions often yield results that are not faithful reproduction. The traditional countermeasure was to mount a color correction optical filter before the lens. These are shades of blue to reverse reddish ambient light from tungsten sources and salmon (pink-amber) to neutralize the excessive bluish tints of north-sky daylight. Digital settings to correct off color lighting conditions are warming or cooling offsets.</p>
</blockquote>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2024/06/04/tensorflow/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="John Doe">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Vin's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2024/06/04/tensorflow/" class="post-title-link" itemprop="url">tensorflow</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2024-06-04 15:14:36" itemprop="dateCreated datePublished" datetime="2024-06-04T15:14:36+08:00">2024-06-04</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2025-05-19 21:38:29" itemprop="dateModified" datetime="2025-05-19T21:38:29+08:00">2025-05-19</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="基本元素"><a href="#基本元素" class="headerlink" title="基本元素"></a>基本元素</h2><h3 id="tf-Variable-……"><a href="#tf-Variable-……" class="headerlink" title="tf.Variable(……)"></a>tf.Variable(……)</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> tensorflow <span class="keyword">as</span> tf</span><br><span class="line">A = tf.Variable(<span class="number">3</span>, name=<span class="string">&quot;number&quot;</span>)</span><br><span class="line">B = tf.Variable([<span class="number">1</span>,<span class="number">3</span>], name=<span class="string">&quot;vector&quot;</span>)</span><br><span class="line">C = tf.Variable([[<span class="number">0</span>,<span class="number">1</span>],[<span class="number">2</span>,<span class="number">3</span>]], name=<span class="string">&quot;matrix&quot;</span>)</span><br><span class="line">D = tf.Variable(tf.zeros([<span class="number">100</span>]), name=<span class="string">&quot;zero&quot;</span>)</span><br><span class="line">E = tf.Variable(tf.random_normal([<span class="number">2</span>,<span class="number">3</span>], mean=<span class="number">1</span>, stddev=<span class="number">2</span>, dtype=tf.float32))</span><br></pre></td></tr></table></figure>
<p>我们可以把函数variable()理解为构造函数，构造函数的使用需要初始值，而这个初始值是一个任何形状、类型的Tensor。<br>变量有两个重要的步骤，先后为：</p>
<ul>
<li>创建</li>
<li>初始化</li>
</ul>
<p>变量在使用前一定要进行初始化，且变量的初始化必须在模型的其它操作运行之前完成，通常，变量的初始化有三种方式：</p>
<ul>
<li>1.初始化全部变量<br><code>init = tf.global_variables_initializer()</code><br>global_variables_initializer()方法是不管全局有多少个变量，全部进行初始化，是最简单也是最常用的一种方式；</li>
<li>2.初始化变量的子集<br><code>init_subset=tf.variables_initializer([b,c], name=&quot;init_subset&quot;)</code><br>variables_initializer()是初始化变量的子集，相比于全部初始化化的方式更加节约内存</li>
<li>3.初始化单个变量</li>
</ul>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/2024/06/04/tensorflow/#more" rel="contents">
                Read more &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2024/06/04/recommendation-system/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="John Doe">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Vin's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2024/06/04/recommendation-system/" class="post-title-link" itemprop="url">recommendation_system</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2024-06-04 15:13:36" itemprop="dateCreated datePublished" datetime="2024-06-04T15:13:36+08:00">2024-06-04</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2025-05-19 21:38:29" itemprop="dateModified" datetime="2025-05-19T21:38:29+08:00">2025-05-19</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>使用Embedding策略在各种任务场景中提取用户信息的paper<br>《Modeling User Activities on the Web using Paragraph Vector》<br>:用户在浏览网页的时候会留下来一系列的行为，比方说网页浏览，搜索问题，点击广告等，设用户$i$留下的 $T$个行为表示为$(a<em>{i,1},a</em>{i,2}….,a_{i,Ti})$<br> )。我们希望根据所有的用户行为数据，生成表征每一个用户的向量，使具有相同行为序列的用户被映射到相似的向量空间之中。我们希望根据所有的用户行为数据，生成表征每一个用户的向量，使具有相同行为序列的用户被映射到相似的向量空间之中。<br>该论文借鉴了skip-gram 的思想</p>
<h2 id="Deep-amp-Cross-Network-for-Ad-Click-Predictions"><a href="#Deep-amp-Cross-Network-for-Ad-Click-Predictions" class="headerlink" title="Deep &amp; Cross Network for Ad Click Predictions"></a>Deep &amp; Cross Network for Ad Click Predictions</h2><p><a href="https://blog.csdn.net/Dby_freedom/article/details/86502623">https://blog.csdn.net/Dby_freedom/article/details/86502623</a><br><a href="https://blog.csdn.net/qq_40778406/article/details/105009989">https://blog.csdn.net/qq_40778406/article/details/105009989</a><br><a href="https://www.cnblogs.com/LuckPsyduck/p/11995230.html">https://www.cnblogs.com/LuckPsyduck/p/11995230.html</a><br><a href="https://zhuanlan.zhihu.com/p/96010464">https://zhuanlan.zhihu.com/p/96010464</a></p>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/2024/06/04/recommendation-system/#more" rel="contents">
                Read more &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  


  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><span class="space">&hellip;</span><a class="page-number" href="/page/5/">5</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-angle-right" aria-label="Next page"></i></a>
  </nav>



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">John Doe</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">43</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
        <span class="site-state-item-count">8</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
        <span class="site-state-item-count">22</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2025</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">John Doe</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://muse.theme-next.org" class="theme-link" rel="noopener" target="_blank">NexT.Muse</a>
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/muse.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  
      

<script>
  if (typeof MathJax === 'undefined') {
    window.MathJax = {
      loader: {
          load: ['[tex]/mhchem'],
        source: {
          '[tex]/amsCd': '[tex]/amscd',
          '[tex]/AMScd': '[tex]/amscd'
        }
      },
      tex: {
        inlineMath: {'[+]': [['$', '$']]},
          packages: {'[+]': ['mhchem']},
        tags: 'ams'
      },
      options: {
        renderActions: {
          findScript: [10, doc => {
            document.querySelectorAll('script[type^="math/tex"]').forEach(node => {
              const display = !!node.type.match(/; *mode=display/);
              const math = new doc.options.MathItem(node.textContent, doc.inputJax[0], display);
              const text = document.createTextNode('');
              node.parentNode.replaceChild(text, node);
              math.start = {node: text, delim: '', n: 0};
              math.end = {node: text, delim: '', n: 0};
              doc.math.push(math);
            });
          }, '', false],
          insertedScript: [200, () => {
            document.querySelectorAll('mjx-container').forEach(node => {
              let target = node.parentNode;
              if (target.nodeName.toLowerCase() === 'li') {
                target.parentNode.classList.add('has-jax');
              }
            });
          }, '', false]
        }
      }
    };
    (function () {
      var script = document.createElement('script');
      script.src = '//cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js';
      script.defer = true;
      document.head.appendChild(script);
    })();
  } else {
    MathJax.startup.document.state(0);
    MathJax.texReset();
    MathJax.typeset();
  }
</script>

    

  

</body>
</html>
